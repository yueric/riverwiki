/**
 * jQEditor - WYSIWYG HTML Editor for Internet
 * Copyright (c) 2016, baike.com All rights reserved.
 * MIT Licensed.
 * Depends: jQuery1.64+
 * Date: 2017-02-09 14:42:55
 * Version: 2.1.7
 *
 */
(function(a){function e(a){this.option=a;i.create(a)}function f(m,k){if(b){if(!m)return d;if(typeof m!=="string")return alert("log(type, msg)\u65b9\u6cd5\u7684\u53c2\u6570type\u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32"),!1;m=a.trim(m);if(k&&typeof k==="string"){d[m]||(d[m]=[]);d[m].push(k);if(typeof console==="object")switch(c+=1,k=c+"."+k,m){case "run":console.log(k);break;case "warning":console.warn(k);break;case "error":console.error(k);break;default:console.log(k)}return!0}else return d[m]?
d[m]:d}}function h(a){o[a]=function(c,b,k){return i[a](c,b,k)}}function j(){this.enabled=1;this.logs=[]}function g(){this.enabled=1;this.locked=0;this.isNeedTitle=this.isNeedPanel=1;this.title="";this.config={};this.menuTitle=this.style="";this.menuType="Panel";this.inserthtml="base";this.killEvents=this.event=this.panel=null;this.cache=[];this.logs=[];this.callback=this.one=this.Selection=null}var d={},b=!1,c=0,k=function(){var a=new Date,c=a.getMonth()+1,b=a.getFullYear();return""+b+(c<10?"0"+c:
c)+a.getDate()}(),b=typeof JQEDEBUG!=="undefined"&&JQEDEBUG?!0:!1,o=window.jQEditor=a.editor=function(a){return new e(a)};e.prototype={getHtml:function(){},setHtml:function(){},ischange:function(){},pasteHTML:function(){},lock:function(){},unlock:function(){},notice:function(){},error:function(){}};var n={typeof_function:"function",re_string:/string/i,re_object:/object/i,re_obj_fn:/object|function/i,IE:/msie/i.test(navigator.userAgent),mozilla:/Firefox\/\d/i.test(navigator.userAgent),script_path:"",
returnFalse:function(){return!1},baseCmds:"Cut,Copy,Paste,Bold,Italic,Underline,StrikeThrough,InsertOrderedList,InsertUnorderedList,JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,Outdent,Indent,SubScript,SuperScript,RemoveFormat".split(","),closeStyleCmd:/bold|italic|underline|strikeThrough/i,IE6:/msie 6/i.test(navigator.userAgent),IE678:/msie [678]/i.test(navigator.userAgent)};f("run","start");o.pasteHTML=function(a){n.IE&&(a=a.replace(/<p><br><\/p>/ig,"<p>&nbsp;</p>"));i.pasteHTML(a);i.monitor("pasteHTML")};
a.extend(o,{consts:n,eid:"",styleContent:[],styleSkin:[],init:function(){var a=0,c=0,b="",k="extend,mod,plugin,icon,lang,log,showError,showNotice,alert,hideMessage,addFilter,getHTML,setHTML,hidePanel,$,pluginExit,action,execCommand,iframe,getButtonByName,append,freeze".split(",");f("run","init: "+k.join(","));for(a=0,c=k.length;a<c;a++)b=k[a],h(b)},config:function(m,c){return c&&m?(i.config[m]=c,this):m&&typeof m==="object"?(i.config=a.extend(i.config,m),this):m&&typeof m==="string"?i.config[m]:i.config},
get:function(a){if(/(option|body|document|window|iframe)/.test(a))return i.get(a)},setEid:function(a){i.setEid(a)},focus:function(a){var c,b=i.mod("Selection");c=i.get("document").body;a&&typeof a==="string"?(c=a==="first"?c.firstChild:c.lastChild,this.scrollToElement(c)):a&&typeof a==="object"?(c=a,a=!0,/^h[23]$/i.test(c.tagName)&&(a=!1),this.scrollToElement(c),b.selectNode(c,a)):i.focus()},scrollToElement:function(m){var c=a("#"+i.eid);i.$(m).size()&&i.$(m).offset()&&(m=c.find(".jqe-content").offset().top+
i.$(m).offset().top-c.find(".jqe-toolbar").height()-50,a(document).scrollTop(m))},monitor:function(a){i.monitor(a)},disablePlugin:function(a){(Plugin=i.plugin(a))&&Plugin.disable()},lock:function(){var a="Undo,Redo,Bold,JustifyLeft,H1,H2,BaikeLink,HdImage,Video,InsertTable,SpecialChar,Code,Reference".split(","),c;for(c in a)this.disablePlugin(a[c])},enablePlugin:function(a){(Plugin=i.plugin(a))&&Plugin.enable()},hidePlugin:function(a){if(Plugin=i.plugin(a))return Plugin.hide(),Plugin},clickPlugin:function(a){if(a=
i.plugin(a))return a.click(i.mod("Panel"),a),a},getSubmitHtml:function(a){a&&i.setEid(a);(a=i.plugin("Cleanup"))&&a.click();return i.getHTML(!0)}});o.init();var i={version:"1.0",config:{},bodys:{},iframes:{},documents:{},windows:{},options:{},eid:"",pluginStyle:[],plugins:{},mods:{},icons:{},defaults:{},extend:function(){},isExtend:[],plugin:function(){},mod:function(){},icon:function(){},langs:{},open:function(){},log:function(){},domFilters:{},htmlFilters:{},htmlOutFilters:{}};i.extend=function(m,
c){if(!m||typeof m!=="string")return f("error","E.extend(name, obj)\u65b9\u6cd5\u7684\u53c2\u6570name\u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32"),this;m=a.trim(m);i.isExtend[m]?f("run","\u7f16\u8f91\u5668\u5df2\u7ecf\u5b58\u5728\u540d\u5b57\u4e3a"+m+"\u5bf9\u8c61"):(i[m]=c,i.isExtend[m]=1);return this};var p=!1;i.extend("monitor",function(a){p||(a=a||"",i.log("run","E.Event.trigger( {type:onmonitor, cmd:"+a+"} );"),i.Event.trigger({type:"onmonitor",cmd:a}),p=!0,setTimeout(function(){p=
!1},300))});i.extend("freeze",function(){var a=i.mod("Event");a.freeze=!a.freeze;return a.freeze});i.extend("get",function(a,c){a+="s";c=c||i.eid;if(i[a]&&i[a][c])return i[a][c];else i[a]?f("warning","\u7f16\u8f91\u5668eid="+c+"\u4e0d\u5b58\u5728"):f("warning","\u7f16\u8f91\u5668\u4e0d\u5b58\u5728\u53d8\u91cf:"+a)});i.extend("setEid",function(a){if(a&&typeof a==="string"&&i.options[a]){if(a!==i.eid){i.eid=o.eid=a;var c=i.options[a].plugin,b=null,k=null;if(c&&typeof c==="object")for(var e in c)if(b=
c[e],k=i.plugin(e),b&&typeof b==="object"){for(var l in b)if(k[l]){var d=b[l];if(/^(string|number|boolean)$/i.test(typeof d))k[l]=d;else if(typeof d==="object")for(var g in d)k[l][g]=d[g]}else f("warning","\u63d2\u4ef6"+e+"\u6ca1\u6709key\u503c\uff1a"+l);typeof k.init==="function"&&k.init(k)}f("run","setEid="+a)}}else f("error","\u8bf7\u68c0\u67e5eid="+a+"\u662f\u5426\u6b63\u786e")});i.extend("alert",function(a){alert(a)});i.extend("showError",function(a,c){var b=i.mod("Message");b&&b.showError(a,
c)});i.extend("showNotice",function(a,c){var b=i.mod("Message");b&&b.showNotice(a,c)});i.extend("hideMessage",function(a){var c=i.mod("Message");c&&c.hide(a)});i.extend("$",function(c){var b=i.get("document");return a(c,b)});i.extend("append",function(c){var b=i.get("document");a("body",b).append(c);i.monitor("append")});i.extend("log",function(a,c){return f(a,c)});j.prototype={isEnabled:function(){return this.enabled},enable:function(){this.enabled=1},disable:function(a){this.enabled=0;a&&this.log(a)},
log:function(a){this.logs.push(a)}};i.extend("mod",function(c,b){if(!c||typeof c!="string")return f("error","E.mod(name, obj)\u65b9\u6cd5\u7684\u53c2\u6570 name \u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32"),0;var k;k=i.mods;if(b&&typeof b==="object")return k[c]?(f("error","\u6a21\u5757"+c+"\u5df2\u7ecf\u5b58\u5728\uff0c\u6ce8\u518c\u5931\u8d25"),0):(f("run","\u6a21\u5757"+c+"\u6ce8\u518c\u6210\u529f"),b.name=c,k[c]=a.extend(new j,b),1);else if(k[c])return k=k[c],k.isEnabled()?k:0;else f("error",
"\u6a21\u5757"+c+"\u4e0d\u5b58\u5728")});g.prototype={click:function(a,c){a&&c.isNeedPanel&&a.set(c);typeof c.set===n.typeof_function&&c.set(a,c);return!0},action:function(){},getCursorElement:function(){return i.mod("Selection").getElement()},getSelectionHtml:function(){return i.mod("Selection").getHtml()},getSelectionText:function(){return""+i.mod("Selection").getText()},getTitle:function(){var a=i.get("option"),a=i.lang(a.lang)[this.name];return typeof a=="string"?a:a&&typeof a=="object"&&a.title?
a.title:"\u672a\u5b9a\u4e49"},pasteHTML:function(a){a&&i.pasteHTML(a)},panelHtml:function(){return this.cache.html},getValues:function(c){var c=c||this.panel,b={},c=c.find(":input").serializeArray();a.each(c,function(a,c){if(c.name)b[c.name]=c.value});return b},error:function(a){var c=i.mod("Panel");c&&c.error(a);this.unlock()},notice:function(a){var c=i.mod("Panel");c&&c.notice(a)},hide:function(){var a=i.mod("Panel");a&&a.hide()},isEnabled:function(){return this.enabled},isDisabled:function(){return!this.enabled},
enable:function(){if(!this.enabled){this.enabled=!0;var a=i.getButtonByName(this.name),c=a.children(),b=c.attr("_title");a.removeClass("disabled");c.attr("title",b)}},disable:function(c){if(this.enabled){this.enabled=!1;var b=i.getButtonByName(this.name),k=b.children(),e=k.attr("_title");b.addClass("disabled");a.inArray(e,["\u590d\u5236(Ctrl + C)","\u526a\u5207(Ctrl + X)","\u7c98\u8d34(Ctrl + V)"])>-1&&(e=e.replace(/\(/,"\u5f53\u524d\u4e0d\u53ef\u7528,\u8bf7\u4f7f\u7528("));k.attr("title",e);c&&this.log(c)}},
lock:function(a){var c=i.mod("Panel"),b=i.mod("Toolbar");if(!this.locked)this.locked=1,a==="toolbar"?b.lock():a==="panel"?this.panel&&c.lock(this.panel):(this.panel&&c.lock(this.panel),b.lock())},unlock:function(a){var c=i.mod("Panel"),b=i.mod("Toolbar");if(this.locked)this.locked=0,a==="toolbar"?b.unlock():a==="panel"?this.panel&&c.unlock(this.panel):(this.panel&&c.unlock(this.panel),b.unlock())},islock:function(){return this.locked},log:function(a){this.logs.push(a)}};i.extend("plugin",function(c,
b){var k=typeof b,e=typeof c,l=i.plugins;if(!c||e!="string"&&!a.isArray(c))return alert("E.plugin(name, obj)\u65b9\u6cd5\u7684\u53c2\u6570 name="+e+" \u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32\u6216\u6570\u7ec4"),0;if(b&&n.re_obj_fn.test(k)){var d,o;e=="string"?d=c.split(","):a.isArray(c)&&(d=c);for(var j=d.length-1;j>=0;j--)if(e=a.trim(d[j]))if(l[e])l[e].type==="base"?(l[e]=a.extend(l[e],b),f("notice","\u57fa\u7840\u63d2\u4ef6"+e+"\u88ab\u8986\u76d6\u6dfb\u52a0")):i.alert("\u63d0\u793a\uff1a\u63d2\u4ef6 "+
e+" \u5df2\u7ecf\u5b58\u5728\uff0c\u4e0d\u80fd\u91cd\u590d\u6dfb\u52a0\uff01");else{b.name=e;k==="object"?(o=new g,l[e]=a.extend(o,b)):k==="function"&&(l[e]=b);o=l[e];if(!o.type)o.type="general";o.type==="base"?f("run","\u57fa\u7840\u63d2\u4ef6"+e+"\u6dfb\u52a0\u6210\u529f"):(o.Selection=i.mod("Selection"),f("run","\u81ea\u5b9a\u4e49\u63d2\u4ef6"+e+"\u6dfb\u52a0\u6210\u529f"));if(k==="function")break;if(typeof o.init!=n.typeof_function)o.isNeedPanel=0;if(o.lang&&typeof o.lang==="object")for(var h in o.lang)i.lang(h,
o.lang[h]);if(o.icon&&typeof o.icon==="object")for(var p in o.icon)typeof o.icon[p]==="object"&&i.icon(p,o.icon[p]);o.style&&i.pluginStyle.push(o.style);if(o.depends&&a.isArray(o.depends))for(var v=0,z=o.depends.length;v<z;v++)if(c=o.depends[v],!i.mod(c)){o.disable();f("warning","\u63d2\u4ef6 "+e+"\u7f3a\u5c11\u4f9d\u8d56\u6a21\u5757: "+c);break}}return this}else return l[c]?l[c]:null});i.extend("icon",function(c,b){if(!c||typeof c!="string")return f("error","E.icon(name, obj)\u65b9\u6cd5\u7684\u53c2\u6570 name \u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32"),
0;var k=i.icons;return b&&n.re_object.test(typeof b)?(k[c]?k[c]=a.extend(k[c],b):(k[c]=b,f("run","\u6309\u94ae\u80cc\u666f\u5750\u6807"+c+"\u6dfb\u52a0\u6210\u529f")),1):k[c]?k[c]:0});i.extend("lang",function(c,b){if(!c||typeof c!="string")return f("error","E.lang(name, obj)\u65b9\u6cd5\u7684\u53c2\u6570 name \u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32"),0;var k=i.langs;return b&&n.re_object.test(typeof b)?(k[c]?k[c]=a.extend(k[c],b):(k[c]=b,f("run","\u8bed\u8a00\u5305"+c+"\u6dfb\u52a0\u6210\u529f")),
1):k[c]?k[c]:0});i.extend("_closeStyleWithCSS",function(a){try{a.execCommand("styleWithCSS",0,!1)}catch(c){try{a.execCommand("useCSS",0,!0)}catch(b){try{a.execCommand("styleWithCSS",!1,!1)}catch(k){}}}});i.extend("focus",function(){var a=i.windows[i.eid];a&&a.focus()});i.extend("execCommand",function(a,c,b){var k=i.get("document");k?(c===null&&(c=!1),!n.IE&&a=="BackColor"&&(a="hiliteColor"),i.focus(),k.execCommand(a,c,b),f("run","\u6267\u884c\u7f16\u8f91\u5668\u547d\u4ee4\uff1a"+a)):f("error","\u6267\u884c\u7f16\u8f91\u5668\u547d\u4ee4"+
a+"\u65f6\u51fa\u73b0\u610f\u5916\uff0c\u6ca1\u6709\u5f97\u5230dom\u5bf9\u8c61")});i.extend("pasteHTML",function(a){if(a){var c=i.mod("Selection");c&&c.set(a);f("run","\u5411\u7f16\u8f91\u5668\u63d2\u5165\u5185\u5bb9\uff1a"+a);setTimeout(function(){var a=i.plugin("Resize");a&&a.autoHeight()},1E3)}});i.extend("getHTML",function(a){var a=typeof a==="undefined"?!0:a,c=i.get("document");return a?i.execFilter(c,"",!0):c.body.innerHTML});i.extend("setHTML",function(a){var c=i.get("document");c.body.innerHTML!=
a&&(i.execFilter(c,a),i.monitor("setHTML"),(a=i.plugin("InsertTable"))&&a.setTableId(),f("run","\u91cd\u7f6e\u7f16\u8f91\u5668\u5185\u5bb9\uff1a"+c.body.innerHTML));return 1});var l={type:"dom",dom:null,enabled:1,check:function(){return this.isEnabled()?!0:!1},isEnabled:function(){return this.enabled},enable:function(){this.enabled=1},disable:function(){this.enabled=0}};i.extend("addFilter",function(c,b){typeof b==="object"&&typeof b.replace==="function"?(f("run","\u6ce8\u518c\u8fc7\u6ee4\u5668"+
c),b.type?b.type==="html"?b=i.htmlFilters[c]=a.extend({},l,b):b.type==="out-html"&&(b=i.htmlOutFilters[c]=a.extend({},l,b)):b=i.domFilters[c]=a.extend({},l,b)):i.alert("\u63d0\u793a\uff1a\u5185\u5bb9\u8fc7\u6ee4\u5668"+c+"\u7f3a\u5c11replace\u65b9\u6cd5\u3002");return b});i.extend("execFilter",function(c,b,k){var e,l=i.domFilters,d=i.htmlFilters,o="",g=i.get("option");if(b){for(var n in d)if(e=d[n],a.inArray("filter."+n,g.disabled)===-1&&e.check())e.dom=c,b=e.replace(b),f("run","\u6267\u884chtml\u8fc7\u6ee4\u5668"+
n);c.body.innerHTML=b}for(n in l)e=l[n],a.inArray("filter."+n,g.disabled)===-1&&e.check()?(e.dom=c,e.replace(c),f("run","\u6267\u884cdom\u8fc7\u6ee4\u5668"+n)):f("run","\u7981\u7528\u4e86dom\u8fc7\u6ee4\u5668"+n);o=c.body.innerHTML;if(!b){for(n in d)if(e=d[n],a.inArray("filter."+n,g.disabled)===-1&&e.check())e.dom=c,o=e.replace(o),f("run","\u6267\u884chtml\u8fc7\u6ee4\u5668"+n);if(k)for(n in i.htmlOutFilters)if(e=i.htmlOutFilters[n],a.inArray("filter."+n,g.disabled)===-1&&e.check())e.dom=c,o=e.replace(o),
f("run","\u6267\u884chtml-out\u8fc7\u6ee4\u5668"+n)}return o=o.replace(/^(\s|&nbsp;|<br\s?\/?>)+/i,"").replace(/(\s|&nbsp;|<br\s?\/?>)+$/i,"").replace(/^(?:<p>(?:\s|<br\s?\/?>|&nbsp;)*<\/p>)+/i,"").replace(/(?:<p>(?:\s|<br\s?\/?>|&nbsp;)*<\/p>)+$/i,"")});i.extend("getButtonByName",function(c){return a("#"+i.eid+"-"+c)});i.extend("hidePanel",function(c,b){var k=i.mod("Menu"),e=i.mod("Panel"),l=i.mod("Toolbar"),c=c||"";b==="Panel"?e&&a(".jqe-panel:visible").size()&&(e.hide(),i.log("run","\u9690\u85cf\u9762\u677f("+
c+")")):(b!=="Menu"&&e&&a(".jqe-panel:visible").size()&&(e.hide(),i.log("run","\u9690\u85cf\u9762\u677f("+c+")")),k&&a(".jqe-menu:visible").size()&&(k.hide(),i.log("run","\u9690\u85cf\u83dc\u5355("+c+")")));l&&l.resetClickButton()});i.extend("action",function(c,b){var k,e,l=null,d=!1,g=i.mod("Panel"),j=i.mod("Menu"),h="";typeof c==="string"?(k=c,e=i.eid,h="click",f("run","\u7f16\u8f91\u5668"+e+"\u5373\u5c06\u6267\u884c\u83dc\u5355\u547d\u4ee4"+k)):(k=c.closest("[name]").attr("name"),e=c.closest(".jqeditor").attr("id"),
i.setEid(e),c.is(".jqe-icon")?(h="click",f("run","\u7f16\u8f91\u5668"+e+"\u5373\u5c06\u6267\u884c\u5de5\u5177\u680f\u6309\u547d\u4ee4"+k)):c.is(".jqe-button-menu")&&(h="menu",f("run","\u7f16\u8f91\u5668"+e+"\u5373\u5c06\u6267\u884c\u5de5\u5177\u680f\u4e0b\u62c9\u6309\u94ae\u547d\u4ee4"+k)));l=i.plugin(k);if(!l)return f("error","\u7f16\u8f91\u5668"+e+"\u547d\u4ee4"+k+"\u4e0d\u5b58\u5728"),d;if(typeof c==="object")l.target=c;if(!l.isEnabled()){l.target=null;if(n.IE)i.showError(l.title+"\u529f\u80fd\u5904\u4e8e\u7981\u7528\u72b6\u6001");
else switch(e=i.get("option"),e=i.lang(e.lang),k){case "Cut":case "Paste":case "Copy":i.showError(e[k+"DisabledMsg"]);break;default:i.showError(l.title+"\u529f\u80fd\u5904\u4e8e\u7981\u7528\u72b6\u6001")}return d}l.event=b;o.Plugin=i.Plugin=l;if(h=="click")g&&l.isNeedPanel?d=l.click(g,l,c):j?(b&&(c=a(b.target)),d=l.click(j,l,c)):d=l.click(null,l,c),l.event=null;else if(h=="menu"){var p=!1;l.menuType==="Panel"?(i.hidePanel("action","Menu"),p=g.isShow(l)):l.menuType==="Menu"&&(i.hidePanel("action",
"Panel"),p=j.isShow(l));p?i.hidePanel("action"):(d=l.menu(g,l,c),f("run","\u7f16\u8f91\u5668"+e+"\u6267\u884c\u4e86\u5de5\u5177\u680f\u4e0b\u62c9\u6309\u94ae\u547d\u4ee4"+k))}i.Event.trigger({type:"onafteraction",Plugin:l});h==="click"&&typeof l.ok==="undefined"&&typeof l.get==="undefined"&&(d&&!/(undo|redo)/i.test(k)&&i.monitor(k),i.pluginExit());return d});i.extend("pluginExit",function(){if(i.Plugin){i.Plugin.target=null;if(typeof i.Plugin.onclose==="function")i.Plugin.onclose();o.Plugin=i.Plugin=
null}});i.extend("iframe",function(c,b,e){var l=i.config,d=c.id,g=a("#"+d),j=document.createElement("iframe"),h="";if(g.size()){g.addClass("jqeditor");if(!b||typeof b!=="object")b=g.find(".jqe-content");b.size()||(g.append('<div class="jqe-content"></div>'),b=g.find(".jqe-content"))}else alert("\u6307\u5b9a\u7684\u7f16\u8f91\u5668id="+d+"\u4e0d\u5b58\u5728\u3002\uff08E.iframe\uff09");if(!b||typeof b!=="object")return alert("\u6ca1\u6709\u6307\u5b9aiframe\u5bb9\u5668container\u3002\uff08E.iframe\uff09"),
!1;a(j).attr({frameBorder:0,name:"iframe_"+d,tabIndex:"0"});c.iframeStyle&&a(j).css(c.iframeStyle);c.autoHeight&&a(j).attr({scrolling:"no"});c.iframeSrc&&a(j).attr({src:c.iframeSrc});a(b).empty().append(j).height(c.height);b=j.contentWindow.document||j.contentDocument;b.open();h=l.DOCTYPE+'<html xmlns="'+l.xmlns+'" class="CSS1Compat" lang="zh-cn" dir="ltr" style="height:99%"><head>';h+=c.meta?c.meta:'<meta http-equiv="X-UA-Compatible" content="IE=edge">';h+='<meta http-equiv="Content-Type" content="text/html; charset='+
l.charset+'" />';o.styleContent.length?h+="<style>"+o.styleContent.join("\n")+"</style>\n":c.contentCssName&&(g="jqe-style-content-"+c.contentCssName,cssUrl=l.jqePath+"/skins/content_"+c.contentCssName+".css?"+(c.contentCssVersion?c.contentCssVersion:k),h+='<link id="'+g+'" href="'+cssUrl+'" type="text/css" rel="stylesheet" />');typeof c.styleContent==="string"?h+="<style>"+c.styleContent+"</style>\n":a.isArray(c.styleContent)&&(h+="<style>"+c.styleContent.join("\n")+"</style>\n");e=e||"<p>"+l.text+
"</p>";h+='</head><body id="'+d+'" style="height:99%;width:100%;">'+e+"</body></html>";b.write(h);b.close();if(c.contentEditable)n.IE?b.body.contentEditable="true":b.designMode="On";i.bodys[d]=b.body;i.iframes[d]=j;i.windows[d]=c=j.contentWindow;i.documents[d]=b;f("run","\u6784\u5efa\u7f16\u8f91\u5668"+d+"\u7684iframe\u7f16\u8f91\u5668\u533a\u57df");return{dom:b,win:c}});i.extend("create",function(c){i.ready();for(var b in i.defaults)c[b]==null&&(c[b]=i.defaults[b]);b=c.id;if(i.options[b])i.alert("\u7f16\u8f91\u5668id\u91cd\u590d\uff0c\u8bf7\u66f4\u6362\uff01");
else{i.options[b]=c;i.setEid(b);i.init(c);var k=a("#"+c.contentId).val(),e=i.iframe(c,null,k);e&&(i.execFilter(e.dom,k),i.Event.trigger({type:"oncreate",value:c,html:k}),i.Event.trigger({type:"oncomplete",value:c,html:k}),f("run","\u7f16\u8f91\u5668"+b+"\u521b\u5efa\u5b8c\u6210"))}});setTimeout(function(){i.ready()},30);i.extend("ready",function(){if(!i.Event){var c=i.plugins,b,k;for(k in c)b=c[k],typeof b.init==="function"&&b.init(b);i.Event=i.mod("Event");try{i.Event.trigger({type:"onready"})}catch(e){f("warning",
"E.Event\u627e\u4e0d\u5230trigger\u65b9\u6cd5"),setTimeout(function(){i.Event.trigger({type:"onready"})},1E3)}a("link[href*=skin_base]").size()||o.config("jqePath")}});i.extend("init",function(a){i.icon(a.skin);var c=[];c.push(i.pluginStyle.join("\n"));c.push("#"+a.id+" li.jqe-button{margin:4px 1px 2px;}");c.push("#"+a.id+" li.jqe-button span{margin:0;width:22px;}");c.push("#"+a.id+" li.jqe-button span.selected-color{width:18px;}");f("run","\u7f16\u8f91\u5668\u6837\u5f0f\u6dfb\u52a0\u5230head\u6807\u7b7e\u5f53\u4e2d")});
i.plugin(n.baseCmds,{isNeedPanel:0,type:"base",click:function(){var a=this.name,c=i.documents[i.eid];if(!n.IE&&/^(Cut|Copy|Paste)$/i.test(a)){c="";switch(a){case "Cut":c="Ctrl + X";break;case "Copy":c="Ctrl + C";break;case "Paste":c="Ctrl + V"}c&&i.showError("\u63d0\u793a\uff1a\u6b64\u529f\u80fd\u4ec5\u5728IE\u6d4f\u89c8\u5668\u4e0b\u53ef\u7528\uff0c\u53ef\u4ee5\u4f7f\u7528\u5bf9\u5e94\u7684\u5feb\u6377\u952e:"+c);return!1}!n.IE&&n.closeStyleCmd.test(a)&&i._closeStyleWithCSS&&i._closeStyleWithCSS(c);
i.execCommand(a);return!0}})})(jQuery);
(function(a){a.extend("defaults",{id:"jqeditor",contentId:"content",toolbar:"default",lang:"zh-cn",skin:"default",panel:"Panel",contentCssName:"default",contentCssVersion:"",height:350,contentEditable:!0,iframeStyle:{width:"100%",height:"100%"},autoHeight:100,toolbarTop:100,toolbarTopOffset:0,fixedClassName:"jqe-toolbar-fixed",fixedCallback:null,messageSpeed:200,messageDuration:1500,PasteToText:!1,AutoCleanup:!1,plugin:{},disabled:[],titleMonitor:null,contentCheckMonitor:null});a.extend("config",
{DOCTYPE:"<!DOCTYPE html>",xmlns:"http://www.w3.org/1999/xhtml",meta:"",charset:"utf-8",text:"&nbsp;",jqePath:"./",toolbars:{"default":"Source,Cut,Source2,Save,Undo,Redo,Bold,Italic,Underline,StrikeThrough,SubScript,SuperScript,ForeColor,BackColor,RemoveFormat,Cleanup,PasteToText,PasteWord,JustifyLeft,JustifyCenter,JustifyRight,H1,H2,FontSize,FontName,InsertOrderedList,InsertUnorderedList,Indent,Outdent,Image,Find,Replace,BaikeLink,Link,SpecialChar,InsertTable,Video,MultiImage,Code,InsertDate,InsertTime,Reference,ClearDoc,AutoFormat,Preview,GoogleMap,MathFormula,HdImage,Help".split(",")},
tagAndDisablePlugin:{"*":["PasteText","PasteWord","H1","H2","FontSize","FontName","Bold","Italic","Underline","Image","SubScript","SuperScript","StrikeThrough","SpecialChar","InsertTable","HdImage","MultiImage","ForeColor","BackColor",,"Video","JustifyLeft","BaikeLink","Link","Code","GoogleMap","Reference","InsertOrderedList","InsertUnorderedList"],a:"*",table:["H1","H2"],h2:"*",h3:"*",sub:"*",sup:"*",pre:"FontSize,Bold,H1,H2,InsertTable,HdImage,MultiImage,Video,JustifyLeft,ForeColor,Code,GoogleMap".split(","),
img:"H1,H2,Font,Bold,Italic,Underline,SubScript,SuperScript,StrikeThrough,InsertTable,HdImageGroup,ForeColor,BackColor,Video".split(","),selectedTable:"H1,H2,BaikeLink,Link,Video,HdImage,InsertTable,SpecialChar".split(",")},ctrlKeys:{65:"",66:"Bold",73:"Italic",85:"Underline",90:"Undo",89:"Redo",81:"BaikeLink",49:"H1",97:"H1",50:"H2",98:"H2",38:"RowMoveBefore",219:"CancelAutoFormat",221:"AutoFormat",46:"ClearDoc",110:"ClearDoc",191:"PasteToText",40:"RowMoveAfter"},ctrlShiftKeys:{76:"JustifyLeft",
82:"JustifyRight",67:"Cleanup",38:"RowMoveFirst",40:"RowMoveLast"},plugin:{ShortcutMenu:{isAllowImageCenter:!0}}})})(jQEditor);
(function(a){a.icon("default",{Source:{XY:"-259px 0"},DocProps:{XY:"-900px -20px"},Save:{XY:"-480px -20px"},NewPage:{XY:"-520px 0"},Preview:{XY:"-420px -20px"},Templates:{XY:"-820px -20px"},Cut:{XY:"-680px 0"},Copy:{XY:"-700px 0"},Paste:{XY:"-560px 0"},PasteText:{XY:"-360px -20px"},PasteToText:{XY:"-360px -20px"},PasteWord:{XY:"-380px -20px"},Print:{XY:"-440px -20px"},SpellCheck:{XY:"-540px -20px"},Undo:{XY:"-179px -40px"},Redo:{XY:"-199px -40px"},Find:{XY:"-520px -20px"},Replace:{XY:"-500px -20px"},
SelectAll:{XY:"-400px -20px"},RemoveFormat:{XY:"-580px 0"},Bold:{XY:"-40px -40px"},BoldGroup:{XY:"-40px -40px"},Italic:{XY:"-60px -40px"},Underline:{XY:"-138px -40px"},StrikeThrough:{XY:"-120px 0"},SubScript:{XY:"-600px -40px"},SuperScript:{XY:"-620px -40px"},InsertOrderedList:{XY:"-80px -40px"},InsertUnorderedList:{XY:"-20px -40px"},Outdent:{XY:"-540px -40px"},Indent:{XY:"-400px -40px"},JustifyLeft:{XY:"-460px -40px"},AlignGroup:{XY:"-460px -40px"},JustifyCenter:{XY:"-420px -40px"},JustifyRight:{XY:"-480px -40px"},
JustifyFull:{XY:"-440px 0"},Link:{XY:"-520px -40px"},Unlink:{XY:"-640px 0"},Anchor:{XY:"-200px 0"},Image:{XY:"-900px -40px"},Flash:{XY:"-320px -20px"},InsertTable:{XY:"-580px -20px"},TableGroup:{XY:"-580px -20px"},Smiley:{XY:"-60px -20px"},SpecialChar:{XY:"-240px 0"},PageBreak:{XY:"0 -40px"},ForeColor:{XY:"-720px 0"},BackColor:{XY:"-760px 0"},About:{XY:"-340px 0"},Help:{XY:"-340px 0"},FitWindow:{XY:"-100px -20px"},Blockquote:{XY:"-220px 0"},CreateDiv:{XY:"-260px -20px"},Cleanup:{XY:"-40px 0"},InsertDate:{XY:"-140px -20px"},
InsertTime:{XY:"-160px -20px"},TableProps:{XY:"-580px -20px"},CellProps:{XY:"-600px -20px"},RemoveTable:{XY:"-620px -20px"},RemoveColumn:{XY:"-640px -20px"},RemoveRow:{XY:"-660px -20px"},ColumnInsertAfter:{XY:"-680px -20px"},ColumnInsertBefore:{XY:"-700px -20px"},RowInsertAfter:{XY:"-720px -20px"},RowInsertBefore:{XY:"-740px -20px"},ColumnMergeAfter:{XY:"-600px -20px"},RowMergeAfter:{XY:"-820px -20px"},BaikeLink:{XY:"-500px -40px"},H1:{XY:"-960px 0"},H2:{XY:"-980px 0"},HdImage:{XY:"-380px 0"},FontSize:{XY:"none"},
FontName:{XY:"none"},Video:{XY:"-320px -40px"},SpecialChar:{XY:"-239px 0"},MultiImage:{XY:"-380px -40px"},Uploadify:{XY:"-380px -40px"},Code:{XY:"-980px -20px"},SetColumnAlignLeft:{XY:"-460px -40px"},SetColumnAlignRight:{XY:"-480px -40px"},SetColumnAlignCenter:{XY:"-420px -40px"},SetRowAlignLeft:{XY:"-460px -40px"},SetRowAlignRight:{XY:"-480px -40px"},SetRowAlignCenter:{XY:"-420px -40px"},SetRowAlignLeft:{XY:"-460px -40px"},SetRowAlignRight:{XY:"-480px -40px"},SetRowAlignCenter:{XY:"-420px -40px"},
ClearDoc:{XY:"-520px 0"},InsertDate:{XY:"-140px -20px"},InsertTime:{XY:"-160px -20px"},GoogleMap:{XY:"-940px -40px"},Reference:{XY:"-920px 0"},AutoFormat:{XY:"-340px -40px"}});a.icon("mce",{Source:{XY:"-259px 0"},DocProps:{XY:"-900px -20px"},Save:{XY:"-480px -20px"},NewPage:{XY:"-520px 0"},Preview:{XY:"-420px -20px"},Templates:{XY:"-820px -20px"},Cut:{XY:"-680px 0"},Copy:{XY:"-700px 0"},Paste:{XY:"-560px 0"},PasteText:{XY:"-360px -20px"},PasteToText:{XY:"-360px -20px"},PasteWord:{XY:"-380px -20px"},
Print:{XY:"-440px -20px"},SpellCheck:{XY:"-540px -20px"},Undo:{XY:"-158px 0"},Redo:{XY:"-99px 0"},Find:{XY:"-520px -20px"},Replace:{XY:"-500px -20px"},SelectAll:{XY:"-400px -20px"},RemoveFormat:{XY:"-580px 0"},Bold:{XY:"0 0"},BoldGroup:{XY:"0 0"},Italic:{XY:"-60px 0"},Underline:{XY:"-140px 0"},StrikeThrough:{XY:"-120px 0"},SubScript:{XY:"-600px 0"},SuperScript:{XY:"-620px 0"},InsertOrderedList:{XY:"-80px 0"},InsertUnorderedList:{XY:"-20px 0"},Outdent:{XY:"-540px 0"},Indent:{XY:"-400px 0"},JustifyLeft:{XY:"-460px 0"},
AlignGroup:{XY:"-460px 0"},JustifyCenter:{XY:"-420px 0"},JustifyRight:{XY:"-480px 0"},JustifyFull:{XY:"-440px 0"},Link:{XY:"-520px -40px"},Unlink:{XY:"-640px 0"},Anchor:{XY:"-200px 0"},Image:{XY:"-380px 0"},Flash:{XY:"-320px -20px"},InsertTable:{XY:"-580px -20px"},TableGroup:{XY:"-580px -20px"},Smiley:{XY:"-60px -20px"},SpecialChar:{XY:"-240px 0"},PageBreak:{XY:"0 -40px"},ForeColor:{XY:"-720px 0"},BackColor:{XY:"-760px 0"},About:{XY:"-340px 0"},Help:{XY:"-340px 0"},FitWindow:{XY:"-100px -20px"},Blockquote:{XY:"-220px 0"},
CreateDiv:{XY:"-260px -20px"},Cleanup:{XY:"-40px 0"},InsertDate:{XY:"-140px -20px"},InsertTime:{XY:"-160px -20px"},TableProps:{XY:"-580px -20px"},CellProps:{XY:"-600px -20px"},RemoveTable:{XY:"-620px -20px"},RemoveColumn:{XY:"-640px -20px"},RemoveRow:{XY:"-660px -20px"},ColumnInsertAfter:{XY:"-680px -20px"},ColumnInsertBefore:{XY:"-700px -20px"},RowInsertAfter:{XY:"-720px -20px"},RowInsertBefore:{XY:"-740px -20px"},ColumnMergeAfter:{XY:"-600px -20px"},RowMergeAfter:{XY:"-820px -20px"},BaikeLink:{XY:"-500px -40px"},
H1:{XY:"-960px 0"},H2:{XY:"-980px 0"},FontSize:{XY:"none"},FontName:{XY:"none"},Video:{XY:"-700px -40px"},SpecialChar:{XY:"-239px 0"},MultiImage:{XY:"-380px -40px"},Code:{XY:"-980px -20px"},SetColumnAlignLeft:{XY:"-460px -40px"},SetColumnAlignRight:{XY:"-480px -40px"},SetColumnAlignCenter:{XY:"-420px -40px"},SetRowAlignLeft:{XY:"-460px -40px"},SetRowAlignRight:{XY:"-480px -40px"},SetRowAlignCenter:{XY:"-420px -40px"},SetRowAlignLeft:{XY:"-460px -40px"},SetRowAlignRight:{XY:"-480px -40px"},SetRowAlignCenter:{XY:"-420px -40px"},
ClearDoc:{XY:"-520px 0"},InsertDate:{XY:"-140px -20px"},InsertTime:{XY:"-160px -20px"},GoogleMap:{XY:"-940px -40px"},MathFormula:{XY:"-940px -40px"},Reference:{XY:"-920px 0"},AutoFormat:{XY:"-340px -40px"}})})(jQEditor);
(function(a){a.lang("zh-cn",{Source:"\u67e5\u770b\u6e90\u7801",Save:"\u4fdd\u5b58",NewPage:"\u65b0\u5efa",Preview:"\u9884\u89c8",Cut:"\u526a\u5207",Copy:"\u590d\u5236",Paste:"\u7c98\u8d34",Format:"\u683c\u5f0f",Bold:"\u52a0\u7c97(Ctrl + B)",BoldGroup:"\u52a0\u7c97(Ctrl + B)",Italic:"\u503e\u659c(Ctrl + I)",Underline:"\u4e0b\u5212\u7ebf(Ctrl + U)",StrikeThrough:"\u5220\u9664\u7ebf",JustifyLeft:"\u5de6\u5bf9\u9f50",JustifyRight:"\u53f3\u5bf9\u9f50",JustifyCenter:"\u5c45\u4e2d\u5bf9\u9f50",Outdent:"\u51cf\u5c11\u7f29\u8fdb\u91cf",
Indent:"\u589e\u52a0\u7f29\u8fdb\u91cf",InsertOrderedList:"\u7f16\u53f7\u5217\u8868",InsertUnorderedList:"\u9879\u76ee\u5217\u8868",SubScript:"\u4e0b\u6807",SuperScript:"\u4e0a\u6807",RemoveFormat:"\u6e05\u9664\u683c\u5f0f",common:{auto:"\u81ea\u52a8",ok:"\u786e\u5b9a",cancel:"\u53d6\u6d88",close:"\u5173\u95ed"},Undo:"\u64a4\u6d88(Ctrl + Z)",Redo:"\u91cd\u505a(Ctrl + Y)",Font:"\u5b57\u4f53",Image:{title:"\u63d2\u5165\u56fe\u7247"},Link:{title:"\u63d2\u5165\u8d85\u94fe\u63a5"},ForeColor:"\u5b57\u4f53\u989c\u8272",
BackColor:"\u80cc\u666f\u989c\u8272",PasteText:"\u7c98\u8d34\u4e3a\u7eaf\u6587\u672c",PasteToText:"\u7eaf\u6587\u672c\u7c98\u8d34\u6a21\u5f0f",PasteWord:"\u4eceWord\u7c98\u8d34",About:"\u5173\u4e8ejQEditor",Cleanup:"\u6e90\u7801\u6e05\u7406",Help:"\u5e2e\u52a9",Insert:"\u63d2\u5165",Remove:"\u5220\u9664",InsertTable:"\u63d2\u5165\u8868\u683c",InsertTemplet:"\u63d2\u5165\u8868\u683c\u6a21\u677f",ImageTemplet:"\u56fe\u7247\u6a21\u677f",ImageTempletA:"\u56fe\u6587\u6a21\u677f(\u5de6\u6587\u53f3\u56fe)",
ImageTempletB:"\u56fe\u6587\u6a21\u677f(\u5de6\u56fe\u53f3\u6587)",TableGroup:"\u8868\u683c",Table:"\u8868\u683c",MergeCell:"\u5408\u5e76\u5355\u5143\u683c",ColumnMergeAfter:"\u5411\u53f3\u5408\u5e76\u5355\u5143\u683c",RowMergeAfter:"\u5411\u4e0b\u5408\u5e76\u5355\u5143\u683c",CancelCellMerge:"\u53d6\u6d88\u5355\u5143\u683c\u5408\u5e76",Row:"\u884c",Column:"\u5217",Cell:"\u5355\u5143\u683c",TableProps:"\u8868\u683c\u5c5e\u6027",addTableCaption:"\u6dfb\u52a0\u8868\u683c\u540d\u79f0",RemoveTableCaption:"\u5220\u9664\u8868\u683c\u540d\u79f0",
CellProps:"\u5355\u5143\u683c\u5c5e\u6027",RemoveTable:"\u5220\u9664\u6574\u4e2a\u8868\u683c",RemoveColumn:"\u5220\u9664\u5f53\u524d\u5217",RemoveRow:"\u5220\u9664\u5f53\u524d\u884c",ColumnInsertAfter:"\u53f3\u4fa7\u63d2\u5165\u5217",ColumnInsertBefore:"\u5de6\u4fa7\u63d2\u5165\u5217",RowInsertAfter:"\u4e0b\u65b9\u63d2\u5165\u884c",RowInsertBefore:"\u4e0a\u65b9\u63d2\u5165\u884c",Append5Row:"\u884c\u5c3e\u8ffd\u52a05\u884c",Append5Column:"\u5217\u5c3e\u8ffd\u52a05\u5217",RowInsertBefore:"\u4e0a\u65b9\u63d2\u5165\u884c",
addTableTitleRow:"\u6dfb\u52a0\u8868\u683c\u6807\u9898\u884c",RemoveTableTitleRow:"\u5220\u9664\u8868\u683c\u6807\u9898\u884c",TableMove:"\u79fb\u52a8",RowMoveBefore:"\u5411\u4e0a\u79fb\u52a8\u4e00\u884c",RowMoveAfter:"\u5411\u4e0b\u79fb\u52a8\u4e00\u884c",RowMoveFirst:"\u6574\u884c\u79fb\u5230\u6700\u9876\u7aef",RowMoveLast:"\u6574\u884c\u79fb\u5230\u6700\u5e95\u7aef",SetTableWidth:"\u8868\u683c\u5bbd\u5ea6",TableWidthDefault:"\u6309\u8868\u683c\u6587\u5b57\u81ea\u9002\u5e94",TableWidthAuto:"\u6309\u9875\u9762\u5bbd\u5ea6\u81ea\u9002\u5e94",
TableWidthFixed:"\u56fa\u5b9a\u4e3a\u5f53\u524d\u5217\u5bbd",TableWidthAverage:"\u5e73\u5747\u5206\u5e03\u5217\u5bbd",EmptyTable:"\u5220\u9664\u8868\u683c\u5185\u5bb9",SetColumnWidth:"\u5217\u5bbd\u5ea6",SetColumnWidthAdd10:"\u52a010",SetColumnWidthReduce10:"\u51cf10",SetColumnWidthAdd50:"\u52a050",SetColumnWidthReduce50:"\u51cf50",SetCellWidth:"\u5355\u5143\u683c\u5bbd\u5ea6",SetCellWidthAdd10:"\u52a010",SetCellWidthReduce10:"\u51cf10",SetCellWidthAdd50:"\u52a050",SetCellWidthReduce50:"\u51cf50",
SetTableAlign:"\u8868\u683c\u5bf9\u9f50\u65b9\u5f0f",SetTableAlignLeft:"\u5de6\u5bf9\u9f50",SetTableAlignRight:"\u53f3\u5bf9\u9f50",SetTableAlignCenter:"\u6c34\u5e73\u5c45\u4e2d",SetColumnAlign:"\u6574\u5217\u5bf9\u9f50\u65b9\u5f0f",SetColumnAlignLeft:"\u5de6\u5bf9\u9f50",SetColumnAlignRight:"\u53f3\u5bf9\u9f50",SetColumnAlignCenter:"\u6c34\u5e73\u5c45\u4e2d",SetColumnValignTop:"\u5782\u76f4\u5c45\u9876",SetColumnValignCenter:"\u5782\u76f4\u5c45\u4e2d",SetRowAlign:"\u6574\u884c\u5bf9\u9f50\u65b9\u5f0f",
SetRowAlignLeft:"\u5de6\u5bf9\u9f50",SetRowAlignRight:"\u53f3\u5bf9\u9f50",SetRowAlignCenter:"\u6c34\u5e73\u5c45\u4e2d",SetRowValignTop:"\u5782\u76f4\u5c45\u9876",SetRowValignCenter:"\u5782\u76f4\u5c45\u4e2d",SetCellAlign:"\u5355\u5143\u683c\u5bf9\u9f50\u65b9\u5f0f",SetCellAlignLeft:"\u5de6\u5bf9\u9f50",SetCellAlignRight:"\u53f3\u5bf9\u9f50",SetCellAlignCenter:"\u6c34\u5e73\u5c45\u4e2d",SetCellValignTop:"\u5782\u76f4\u5c45\u9876",SetCellValignCenter:"\u5782\u76f4\u5c45\u4e2d",BaikeLink:"\u767e\u79d1\u94fe\u63a5(Ctrl + Q)",
H1:"\u4e00\u7ea7\u76ee\u5f55(Ctrl + 1)",H2:"\u4e8c\u7ea7\u76ee\u5f55(Ctrl + 2)",Search:"\u641c\u7d22",BaikeSearch:"\u767e\u79d1\u4e00\u4e0b",BaiduSearch:"\u767e\u5ea6\u4e00\u4e0b",GoogleSearch:"\u8c37\u6b4c\u4e00\u4e0b",TempletImg:"\u63d2\u5165\u56fe\u7247",HdImage:"\u63d2\u5165\u56fe\u7247",FontSize:"\u5b57\u53f7",FontName:"\u5b57\u4f53",Video:"\u63d2\u5165\u89c6\u9891",SpecialChar:"\u7279\u6b8a\u7b26\u53f7",AlignGroup:"\u5bf9\u9f50\u65b9\u5f0f",MultiImage:"\u6279\u91cf\u4e0a\u4f20\u56fe\u7247",
Uploadify:"\u6279\u91cf\u4e0a\u4f20\u56fe\u7247",Code:"\u63d2\u5165\u4ee3\u7801",AjaxUpload:"\u6b63\u5728\u4e0a\u4f20\u6587\u4ef6...",List_123:"1,2,3...",List_a_b:"a,b,c...",List_A_B:"A,B,C...",List_i_ii:"i,ii,iii...",List_I_II:"I,II,II...",List_circle:"\u25cb \u5c0f\u5706\u5708",List_disc:"\u25cf \u5c0f\u5706\u70b9",List_square:"\u25a0 \u5c0f\u65b9\u5757",AutoFormat:"\u81ea\u52a8\u6392\u7248",CancelAutoFormat:"\u81ea\u52a8\u6392\u7248",ClearDoc:"\u6e05\u7a7a\u5185\u5bb9",InsertDate:"\u63d2\u5165\u65e5\u671f",
InsertTime:"\u63d2\u5165\u65f6\u95f4","Date_Y-m-d":"Y-m-d","Date_Y/m/d":"Y/m/d","Date_Y.m.d":"Y.m.d","Date_Y\u5e74m\u6708d\u65e5":"Y\u5e74m\u6708d\u65e5",GoogleMap:"Google\u5730\u56fe",BaiduMap:"\u767e\u5ea6\u5730\u56fe",MathFormula:"\u516c\u5f0f",Reference:"\u53c2\u8003\u8d44\u6599",CutDisabledMsg:"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u6b64\u6309\u94ae\uff0c\u8bf7\u4f7f\u7528\u952e\u76d8 Ctrl+X \u526a\u5207\u5185\u5bb9",CopyDisabledMsg:"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u6b64\u6309\u94ae\uff0c\u8bf7\u4f7f\u7528\u952e\u76d8 Ctrl+C \u590d\u5236\u5185\u5bb9",
PasteDisabledMsg:"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u6b64\u6309\u94ae\uff0c\u8bf7\u4f7f\u7528\u952e\u76d8 Ctrl+V \u7c98\u8d34\u5185\u5bb9"})})(jQEditor);
(function(a){a.mod("Utils",{filter65279:function(a){for(var f=String.fromCharCode(65279),h=RegExp(f,"g");a.indexOf(f)>-1;)a=a.replace(h,"");return a},escape:function(a){return!a||typeof a!=="string"?a:a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/ /g,"&nbsp;")},unhtml:function(){function a(e){return f[e]}var f={"&":"&amp","<":"&lt;",'"':"&quot;",">":"&gt;"," ":"&nbsp;"};return function(f){return!f||typeof f!=="string"?f:f.replace(/[&<"> ]/g,a)}}(),
checkTag:function(a){if(!a||typeof a!=="string")return a;for(var f="",h=/<(\/?\w+)/ig,j=[],g;(g=h.exec(a))!=null;)g=g[1].toLowerCase(),/^(img|br|hr|input|link|meta|param|embed|p|area|span)$/i.test(g)||(g.indexOf("/")==-1?j.push(g):"/"+j[j.length-1]==g&&j.pop());j.length>6?f="\u63d0\u793a\uff1a\n"+j.length+"\u4e2a\u6807\u7b7e "+j.slice(0,6).join("-&gt;")+"... \u672a\u95ed\u5408\uff0c\u8bf7\u68c0\u67e5\u3002":j.length&&(f="\u63d0\u793a\uff1a\n\u6807\u7b7e "+j.join("-&gt;")+" \u672a\u95ed\u5408\uff0c\u8bf7\u68c0\u67e5\u3002");
return f},strlen:function(a){return a&&typeof a=="string"?a.replace(/[^\x00-\xff]/g,"xx").length:0},saveToInput:function(e){e=e||a.eid;a.options[e].textarea.value=this.get(e)},clone:function(a){for(var f=[],h=0,j=a.length;h<j;h++)f[h]=a[h];return f},colorToHex:function(a){var a=/rgb\((\d+),(?: |&nbsp;)?(\d+),(?: |&nbsp;)?(\d+)\)/i.exec(a),f=parseInt(a[1]),h=parseInt(a[2]);return"#"+(parseInt(a[3])|h<<8|f<<16).toString(16)},closeTag:function(a){var f=document.createElement("div");f.innerHTML=a;return f.innerHTML}})})(jQEditor,
jQuery);
(function(a,e){var f=a.consts,h=[],j,g="onready,oncreate,oncomplete,onafteraction,onmonitor,onredo,onundo,onscroll,mouseover,mousedown,mouseup,click,contextmenu,keyup,keydown,paste,beforepaste,load,dragenter,dragover,drop,dragleave,dragend".split(",");a.mod("Event",{freeze:!1,getElement:function(){return b.element[a.eid]},getTarget:function(){var a=this.getElement();if(a)return a.target},setElement:function(a){b.saveCursorElem(a)},handlers:{},bind:function(c,k){if(e.inArray(c,g)===-1)return a.log("warning","\u7f16\u8f91\u5668\u4e0d\u5141\u8bb8\u6ce8\u518c"+
c+"\u7c7b\u578b\u7684\u4e8b\u4ef6");c.substr(0,2)==="on"?(typeof this.handlers[c]==="undefined"&&(this.handlers[c]=[]),this.handlers[c].push(k)):b.bind(c,k);a.log("run","\u6ce8\u518c\u7f16\u8f91\u5668"+c+"\u7c7b\u578b\u4e8b\u4ef6")},trigger:function(c){if(j.freeze)a.log("run","\u5df2\u7981\u6b62\u4e8b\u4ef6\u6267\u884c(\u81ea\u5b9a\u4e49\u4e8b\u4ef6)");else{if(e.inArray(c.type,g)===-1)return a.log("warning","\u7f16\u8f91\u5668\u6ca1\u6709\u6ce8\u518c"+c.type+"\u7c7b\u578b\u7684\u4e8b\u4ef6");if(this.handlers[c.type]instanceof
Array){var b=this.handlers[c.type];c.option=a.get("option");c.dom=a.get("document");a.log("event","\u89e6\u53d1\u4e8b\u4ef6"+c.type+"\uff0c\u5b58\u5728\u4e2a"+b.length+"\u6ce8\u518c\u4e8b\u4ef6");for(var d=0,n=b.length;d<n;d++)b[d](c)}}},remove:function(a,b){if(this.handlers[a]instanceof Array){for(var e=this.handlers[a],d=0,g=e.length;d<g;d++)if(e[d]===b)break;e.splice(d,1)}}});j=a.Event=a.mod("Event");j.bind("oncreate",function(){var a=b;a.mousedown();a.mouseup();a.click();a.contextmenu();a.keyup();
a.keydown();a.paste();a.dragenter();a.dragover();a.drop();a.dragleave();a.dragend();a.load()});j.bind("onready",function(){d.click();d.scroll()});f.IE||j.bind("oncomplete",function(){a.plugin("Cut").disable();a.plugin("Copy").disable();a.plugin("Paste").disable()});var d={click:function(){function c(c){var b=e(c.target);if(f.mozilla&&c.button!==0||b.closest(".jqe-menu").size()||b.closest(".jqe-panel").size()||b.closest(".jqe-toolbar").size()||b.closest(".jqe-panel-overlay").size())return!0;(e(".jqe-menu:visible").size()||
e(".jqe-panel:visible").size())&&a.hidePanel()}f.IE?e(document).mousedown(c):e(window).mousedown(c)},scroll:function(){e(window).scroll(function(c){a.Event.trigger({type:"onscroll",event:c})})}},b={element:{},bind:function(a,b){var d=this[a+"s"];e.isArray(d)&&d.push(b);return this},init:function(){this.extend("mouseover").extend("mousedown").extend("mouseup").extend("click").extend("contextmenu").extend("keyup").extend("keydown").extend("paste").extend("load");this.extend("dragenter").extend("dragover").extend("drop").extend("dragleave");
this.extend("dragend");return this},extend:function(c){var b=this;b[c+"s"]=[];h[c]=0;b[c]=function(){var d=a.get("document"),g=a.get("window"),g=c=="load"?g:d;if(f.IE&&c==="paste")g=d.body;if(f.IE&&c==="beforepaste")g=d.body;e(g).bind(c,function(e){if(j.freeze)a.log("run","\u5df2\u7981\u6b62\u4e8b\u4ef6\u6267\u884c(\u7cfb\u7edf\u4e8b\u4ef6)");else{var d=!0,l=b[c+"s"],g,o;for(o in l)g=l[o],typeof g=="function"&&!1===g(this,e)&&(d=!1);return d}})};return b},saveCursorElem:function(c){var b=this.element[a.eid]=
{target:c[0]},e=c.closest("a"),d=c.closest("img"),g=c.closest("h2"),j=c.closest("h3"),l=c.closest("pre"),m=c.closest("sub"),f=c.closest("sup"),h=c.closest("td,th"),t=h.closest("tr"),u=t.closest("table"),s=c.closest("ol"),w=c.closest("ul"),x=c.closest("p"),y=c.closest("embed");e.size()&&(b.a=e[0]);d.size()&&(b.img=d[0]);g.size()&&(b.h2=g[0]);j.size()&&(b.h3=j[0]);l.size()&&(b.pre=l[0]);m.size()&&(b.sub=m[0]);f.size()&&(b.sup=f[0]);h.size()&&(b.cell=h[0]);t.size()&&(b.row=t[0]);u.size()&&(b.table=u[0]);
y.size()&&(b.embed=y[0]);s.size()&&(b.ol=s[0]);w.size()&&(b.ul=w[0]);x.size()&&(b.p=x[0]);a.log("run","\u8bb0\u5f55\u5149\u6807\u5904\u5143\u7d20"+c[0].nodeName)}};b.init();b.bind("mouseover",function(c){c=e("body",c).attr("id");a.setEid(c)});b.bind("mousedown",function(a,k){var d=e(k.target);b.saveCursorElem(d)});b.bind("mouseup",function(c,b){var d=e("body",c).attr("id"),g=a.mod("Menu"),i=a.mod("Selection"),f=a.mod("Toolbar");a.setEid(d);i&&i.saveRange();f&&f.updateState();d=a.plugin("ShortcutMenu-Image");
i=j.getElement();i.img&&a.$(i.img).hasClass("templet")?d.changeTempletImg(i.img):g&&g.set(b,"mouseup")});b.bind("click",function(c,b){e(b.target);var d=a.mod("Selection"),g=a.mod("Menu");if(f.mozilla&&b.button!==0)return!0;d&&d.getText();g&&g.set(b,"click");if(d&&e.browser.webkit&&b.target.nodeName.toLowerCase()==="img"){var i=b.target,g=c.createRange(),g=d.getRange();g.setStartBefore(i);g.setEndAfter(i);g.selectNode(i);d=d.get();d.removeAllRanges();d.addRange(g)}a.log("run",a.eid+" mouse click")});
b.bind("contextmenu",function(c,b){e(b.target);var d=a.mod("Selection"),g=a.mod("Menu");if(d&&(d=""+d.get("text"),b.ctrlKey&&d))return!0;a.hidePanel();return g?g.set(b,"contextmenu"):!0});b.bind("keyup",function(c,k){var d=a.mod("Selection"),g=a.mod("Toolbar"),i=k.keyCode||k.which||k.charCode;d&&d.saveRange();/^(8|13|37|38|39|40|110)$/.test(i)&&(d&&(d=d.getElementByCursor())&&b.saveCursorElem(e(d)),g&&g.updateState())});j.bind("keydown",function(c,b){if(e.inArray(b.keyCode||b.which||b.charCode,[16,
17,18,20,27,33,34,35,36,37,38,39,40,44,45,91,113,115,118,119,122,144])>-1||b.ctrlKey||b.altKey)return!0;clearTimeout(h.keydown);h.keydown=setTimeout(function(){a.monitor("keydown")},1E3)});b.bind("load",function(){a.log("run",a.eid+" onload")})})(jQEditor,jQuery);
(function(a,e){var f=a.consts,h=a.mod("Event");a.mod("Selection",{get:function(a){a=a||"text";return"text"==a?j.get():"html"==a?j.get("html"):"cursorElement"==a||"element"==a?h.getTarget():j.getSelection()},getText:function(){return j.get()},getHtml:function(){return j.get("html")},getElement:function(){return h.getTarget()},set:function(a){j.set(a)},saveRange:function(){return j.saveRange()},getRange:function(){return j.getRange()},getElementByCursor:function(){return j.getElementByCursor()},selectedText:function(a){return j.selectedText(a)},
cursorToNext:function(a){return j.cursorToNext(a)},selectNode:function(a,d){j.init();return j.selectNode(a,d)},getBookmark:function(){j.init();return j.getBookmark()},clearBookmark:function(){return j.clearBookmark()},moveToBookmark:function(a){j.init();return j.moveToBookmark(a)}});var j={dom:null,win:null,ranges:{},init:function(){this.dom=a.get("document");this.win=a.get("window")},get:function(e){e=e||0;this.init();var d="",b=this.dom,c=this.win;if(!b||!c)return a.log("run",""),"";b.selection?
d=e?b.selection.createRange().htmlText:b.selection.createRange().text:c.getSelection?d=c.getSelection():b.getSelection&&(d=b.getSelection());return d?d:""},getHtml:function(){return this.get(1)},getSelection:function(){var a=self.win,d=self.dom;return f.IE?d.selection:a.getSelection()},set:function(g){if(g!==""){this.init();a.focus();var d=this.dom,b=this.ranges[a.eid];if(f.IE)if(b){b.select&&b.select();try{b.pasteHTML?b.pasteHTML(g):a.$("body").append(g)}catch(c){}}else a.$("body").prepend(g),a.focus();
else a.Plugin&&a.Plugin.inserthtml==="base"?d.execCommand("inserthtml",!1,g):b&&b.insertNode?(b.collapsed||b.deleteContents(),g=b.createContextualFragment(g),d=g.lastChild,b.insertNode(g),b.setStartAfter(d),b.setEndAfter(d),b.collapse(!1),g=this.win.getSelection(),g.removeAllRanges(),g.addRange(b)):e("body",d).append(g)}},getRange:function(){this.init();var a=this.win,d=this.dom,b;if(d.selection)b=d.selection.createRange();else if(a.getSelection)if(a=a.getSelection(),a.getRangeAt)try{b=a.getRangeAt(0)}catch(c){}else b=
d.createRange(),b.setStart(a.anchorNode,a.anchorOffset),b.setEnd(a.focusNode,a.focusOffset);return b},saveRange:function(){var e;this.init();e=this.getRange();return this.ranges[a.eid]=e},getElementByCursor:function(){this.init();var a=this.dom,d=this.getRange(),a=a.body;if(f.IE)a=d.item?d.item(0):d.parentElement();else try{a=d.commonAncestorContainer;for(!d.collapsed&&d.startContainer==d.endContainer&&d.startOffset-d.endOffset<2&&d.startContainer.hasChildNodes()&&(a=d.startContainer.childNodes[d.startOffset]);a.nodeType==
3&&a.parentNode;)a=a.parentNode}catch(b){}return a},getCommonAncestor:function(a){return a.startContainer||a.parentElement&&a.parentElement()||a.commonParentElement&&a.commonParentElement()},cursorToNext:function(a){var d=this.dom;if(f.IE)try{e(a).after("<span> </span>"),range=d.body.createTextRange(),range.moveToElementText(a),range.collapse(!1),range.move("character",1),range.select()}catch(b){}else e(a).after("<span> </span>"),a=e(a).next(),range=j.saveRange(),range.setStartAfter(a[0]),range.collapse(!0),
a=j.get(),a.removeAllRanges(),a.addRange(range);j.saveRange();(a=j.getElementByCursor())&&h.setElement(e(a))},selectedText:function(g){var d=!1;if(g&&e.trim(g).length){var b=this.getRange();f.IE?b&&b.findText(g)&&(b.select(),d=!0):d=a.get("window").find(g);this.saveRange()}return d},selectNode:function(e,d){var b=a.get("document"),e=e&&typeof e==="object"?e:b.body.childNodes[0];a.focus();if(b=this.saveRange())try{if(f.IE)b.moveToElementText(e),typeof d!=="undefined"&&(b.collapse(d),d||b.move("character",
-1),b.select());else{b.selectNodeContents(e);typeof d!=="undefined"&&b.collapse(d);var c=j.get();c.removeAllRanges();c.addRange(b)}}catch(k){a.log("run",k)}},getBookmark:function(){this.init();var a=this.dom,d;try{if(f.IE)return d=a.selection.createRange(),d.getBookmark()}catch(b){}},clearBookmark:function(){},moveToBookmark:function(a){this.init();var d=this.dom;f.IE&&a&&d.body.createTextRange&&(d=d.body.createTextRange(),d.moveToBookmark(a),d.select())}}})(jQEditor,jQuery);
(function(a,e){function f(){for(var a=e(".jqe-toolbar"),c=0,b=a.length;c<b;c++){var d=a.eq(c);d.parent().height(d.outerHeight()-1)}}function h(){for(var c=e(".jqe-toolbar"),b=0,d=c.length;b<d;b++){var i=c.eq(b),g=i.attr("eid"),l=i.parent().width(),m=i.find(".jqe-message");Math.round((l-m.width())/2);var l=a.get("option",g),m=e(window).scrollTop(),f=e("#"+g+" .jqe-content"),h=0;if(g&&(a.setEid(g),l=a.get("option",g)))i.removeClass(l.fixedClassName),l.toolbarTop=i.offset().top;if(j.IE6&&!m)m=document.documentElement.scrollTop;
h=f.height()+f.offset().top;m<l.toolbarTop||m>h?(i.removeClass(l.fixedClassName),j.IE6&&i.css("top",0),a.log("run","\u5de5\u5177\u680f\u53d6\u6d88\u6d6e\u52a8")):(i.addClass(l.fixedClassName),a.log("run","\u5de5\u5177\u680f\u5f00\u59cb\u6d6e\u52a8"),j.IE6&&i.css("top",m))}}var j=a.consts,g={},d=a.mod("Event"),b=0;a.mod("Toolbar",{get:function(c){c=c||a.eid;return g[c]},getMessage:function(c){c=c||a.eid;return g[c].find(".jqe-message")},set:function(a){c.init(a).setHtml().setEvent()},selected:function(c){var b=
a.getButtonByName(c.name).closest(".jqe-button"),c=e("#panel_"+c.name+", #jqe-"+c.name+"-0");e(".jqe-button-hover").removeClass("jqe-button-hover");c.is(":visible")?b.addClass("jqe-button-hover"):b.removeClass("jqe-button-hover")},updateState:function(){c.updateState()},getCurrent:function(){for(var c=e(document).scrollTop(),b=e(".jqeditor"),d="",i,j=0,l=0,m=b.length;l<m;l++)if(i=b.eq(l),j=i.offset().top,bottom=j+i.height(),maxTop=c+e(window).height(),j>=c&&bottom<maxTop||j<c&&bottom>c&&bottom<maxTop||
j>=c&&j<maxTop&&bottom>maxTop||j<c&&bottom>maxTop){d=i.attr("id");break}return d?(a.setEid(d),g[d]):null},lock:function(){this.get().children(".jqe-list").css("opacity",0.3).bind("mousedown.lock",function(){a.alert("\u63d0\u793a\uff1a\u5de5\u5177\u680f\u88ab\u9501\u5b9a\uff0c\u8bf7\u7a0d\u7b49...");return!1});c.locked=1},unlock:function(){this.get().children(".jqe-list").css("opacity",1).unbind("mousedown.lock");c.locked=0},islock:function(){return c.locked},resetClickButton:function(){c.clickButton[a.eid]=
null}});d.bind("oncreate",function(){var c=a.mod("Toolbar"),b=a.get("option");c.set(b);h();setTimeout(function(){f()},2E3);setTimeout(function(){f()},5E3)});e(window).bind("resize",function(){clearTimeout(b);b=setTimeout(function(){},300)});d.bind("onafteraction",function(c){var b=a.mod("Toolbar");a.get("option");c.Plugin.type=="base"&&b.updateState();b.selected(c.Plugin)});var c={option:null,clickButton:{},locked:0,init:function(a){this.option=a;return this},setHtml:function(){var c=this.option,
b;b=a.config("toolbars");var d=null,i=c.id,f=[],l=a.lang(c.lang),m=e("#"+i),h,q,d=typeof c.toolbar==="string"&&b[c.toolbar]?b[c.toolbar]:c.toolbar&&typeof c.toolbar==="object"?c.toolbar:b["default"];f.push('<ul class="jqe-list jqe-'+c.skin+'">');for(var t=0,u=d.length;t<u;t++)h=d[t],q="",(b=a.plugin(h))?e.inArray("plugin."+h,c.disabled)>-1?(a.log("warning","\u7f16\u8f91\u5668 "+i+" \u540d\u5b57\u4e3a"+h+"\u7684\u63d2\u4ef6\u88ab\u914d\u7f6e\u6587\u4ef6\u7981\u7528\u4e86"),b.disable()):(typeof l[h]==
"string"?q=l[h]:typeof l[h]=="object"&&(q=l[h].length?l[h][0]+l[h][1]:l[h].title),b.title=q,f.push('<li id="'+i+"-"+h+'" class="jqe-button '+h+'"'),f.push(' style="'),typeof b.menu==j.typeof_function?b.icon&&b.icon.width&&f.push(" width:"+(b.icon.width+12)+"px;"):b.icon&&b.icon.width&&f.push(" width:"+b.icon.width+"px;"),f.push('"'),f.push(">"),f.push('<div style="display:inline-block;" name="'+h+'">'),f.push('<a onclick="return false" tabIndex="-1" hidefocus="true" '),b.icon&&(f.push(' style="'),
b.icon.width&&f.push(" width:"+b.icon.width+"px;"),f.push('"')),f.push(' class="jqe-icon '+h+'" href="jqe:'+q+"("+h+')">'),f.push('<span class="jqe-icon '+h+'"'),b.icon&&(f.push(' style="'),b.icon.width&&f.push(" width:"+b.icon.width+"px;"),f.push('"')),f.push(">"),b.icon&&b.icon.text&&f.push(b.icon.text),f.push("</span>"),/(ForeColor|BackColor)/i.test(h)&&f.push('<span class="selected-color"></span>'),f.push("</a>"),typeof b.menu==j.typeof_function&&(f.push('<a onclick="return false" tabIndex="-1" hidefocus="true" '),
f.push(' class="jqe-button-menu" href="jqe:'+q+'"><span></span></a>')),f.push("</div>"),f.push("</li>")):a.log("warning","\u7f16\u8f91\u5668 "+i+" \u540d\u5b57\u4e3a"+h+"\u7684\u63d2\u4ef6\u4e0d\u5b58\u5728");f.push("</ul>");f.push('<textarea id="jqe-paste-text" style="position:absolute;top:-500px;width:0px;height:0px;border:none;resize:none;"></textarea>');f.push('<div class="jqe-message"></div>');c=m.find(".jqe-toolbar");c.size()||(m.prepend('<div><div class="jqe-toolbar"></div></div>'),c=m.find(".jqe-toolbar"));
c.html(f.join("")).attr("eid",i);g[i]=c;return this},action:function(c,b){if(c.is(".jqe-icon, .jqe-button-menu"))a.action(c,b);else{var d=a.mod("Panel"),e=a.mod("Menu");if(self.locked)return!1;e&&e.hide();d&&d.hide()}},setEvent:function(){var c=this,b=g[c.option.id];b.click(function(a){c.action(e(a.target).closest("a"),a);return!1});b.bind("mousedown",function(b){a.mod("Menu").hide();if(e(b.target).is("input,textarea"))return!0;if(c.locked)return!1;b=e(b.target).closest(".jqe-icon, .jqe-button-menu");
b.size()&&(b.addClass("mousedown"),b=b.closest(".jqe-button").attr("id").split("-"),c.clickButton[b[0]]=b[1]);return!1}).bind("mouseup",function(a){if(c.locked)return!1;a=e(a.target).closest(".jqe-icon, .jqe-button-menu");a.size()&&a.removeClass("mousedown");return!1});b.find("div[name]").bind("mouseover",function(){var a=e(this),b=a.parent(),d=b.attr("id").split("-");if(c.locked||b.hasClass("disabled")||a.hasClass("disabled")||c.clickButton[d[0]]===d[1])return!1;b.hasClass("jqe-button-hover")||b.addClass("jqe-button-hover");
c.clickButton[d[0]]=null;return!1}).bind("mouseout",function(){var a=e(this),b=a.parent(),d=b.attr("id").split("-");if(c.locked||a.hasClass("disabled")||c.clickButton[d[0]]===d[1])return!1;b.hasClass("jqe-button-hover")&&b.removeClass("jqe-button-hover");return!1});a.debug||b.bind("contextmenu",j.returnFalse);return this},updateState:function(){for(var c=a.eid,b=a.get("document"),d=j.baseCmds,g,f=!1,l=0,m=d.length;l<m;l++){g=d[l];try{f=b.queryCommandState(g)}catch(h){f=!1}f?e("#"+c+"-"+g).addClass("jqe-button-checked"):
e("#"+c+"-"+g).removeClass("jqe-button-checked")}return this}}})(jQEditor,jQuery);
(function(a,e){function f(){return"Dialog"==a.get("option").panel?b:d}function h(a,b){var d=a.scrollTop(),e=a.outerHeight(),g=a[0].scrollHeight;if(b&&!d)return!1;else if(!b&&d+e>=g)return!1;return!0}var j=a.consts,g=!1;a.mod("Panel",{get:function(a){return e("#panel_"+a)},set:function(c){a.get("option");f().set(c);g=!0},hide:function(){f().hide();g=!1},error:function(a){f().error(a)},notice:function(a){f().notice(a)},lock:function(c){c.find(".jqe-panel-button input, .jqe-panel-close").css("opacity",
0.3).click(function(){a.alert("\u63d0\u793a\uff1a\u7a97\u53e3\u6b63\u5728\u8fdb\u884c\u6570\u636e\u5904\u7406\uff0c\u8bf7\u7a0d\u7b49...");return!1})},unlock:function(a){a.find(".jqe-panel-button input, .jqe-panel-close").css("opacity",1).unbind("click")},isShow:function(c){return c?(c=e("#panel_"+c.name),c.size()&&c.is(":visible")&&a.eid==c.attr("eid")):g}});var d={eid:"",cmd:"",target:null,panel:null,panel_id:"",set:function(c){var b,d;d=this.panel_id="panel_"+c.name;b=e("#"+d);a.log("run","\u5f00\u59cb\u6784\u5efa\u9762\u677f"+
d);if(b.size()){if(b.is(":visible")&&a.eid==b.attr("eid"))return a.hidePanel(),b}else if(b=this.build(c),this.setSize(c),typeof c.one==="function")c.one(b,c);this.panel=b;c.panel=b;this.reset();typeof c.callback==="function"&&c.callback(b,c);this.show(c);return b},hide:function(){var c,b=e(".jqe-panel[id]:visible");c=b.attr("id");if(!c)return!1;if(c){c=c.replace("panel_","");c=a.plugin(c);if(c.islock())return!1;if(typeof c.onclose==="function")c.onclose(b,c);b.hide()}e(".jqe-button-hover").removeClass("jqe-button-hover");
this.hideOverlay();return!0},show:function(c){a.log("run","\u5f00\u59cb\u663e\u793a\u9762\u677f("+c.name+")");var b=this.panel,d=c.title||c.getTitle(),e=b.find(".jqe-panel-title");d?e.unbind("selectstart").bind("selectstart",function(){return!1}).show().find("strong").text(d):e.hide();this.hide();this.cmd=c.name;this.eid=a.eid;b.show().attr("eid",a.eid);a.log("run","\u9762\u677f("+c.name+")\u663e\u793a\u7ed3\u675f");this.setPosition(c);c.config&&c.config.overlay&&this.showOverlay();c=b.find(":text:visible,textarea:visible");
c.size()&&c[0].focus()},build:function(c){var b=this,d=[],g,f=b.panel_id;d.push('<div id="'+f+'" class="jqe-panel');c.isNeedTitle?d.push('"><div class="jqe-panel-title"><strong></strong><a name="panel-close" class="jqe-panel-close" title="\u5173\u95ed">X</a></div>'):d.push(' jqe-panel-notitle">');d.push('<form onsubmit="return false" ');if(c.form&&c.form.action){var h=c.form;h.target=h.target||"jqe_iframe_submit";h.method=h.method||"post";h.enctype=h.enctype||"multipart/form-data";d.push(' action="'+
h.action+'" method="'+h.method+'" enctype="'+h.enctype+'"')}d.push(">");d.push('<div class="jqe-panel-body"><div class="jqe-panel-notice"></div>');h=c.panelHtml();h||(c.init(c),h=c.panelHtml());d.push(h);d.push('<div class="jqe-panel-error"></div></div>');if(typeof c.get==="function"||typeof c.ok==="function")d.push('<div class="jqe-panel-button">'),d.push('<input name="panel-submit" type="submit" value=" \u786e \u5b9a "/>'),d.push('<input name="panel-close" type="button" value=" \u53d6 \u6d88 "/>'),
d.push("</div>");d.push("</form>");d.push("</div>");e("body").append(d.join(""));g=b.panel=e("#"+f);g.click(function(a){var i;i=(b.target=e(a.target)).closest("[name]").attr("name"),a=i;return b.action(c,g,a)===!1?!1:null}).mouseover(function(){var c=e(this).attr("id").replace("panel_","");e("#"+a.eid+"-"+c).addClass("jqe-button-hover")});(d=c.killEvents)&&e.isArray(d)&&g.bind(d.join(" "),j.returnFalse);a.debug||g.bind("contextmenu",function(a){return e(a.target).is(":text,textarea")?!0:!1});return g},
setSize:function(c){var b=this.panel,d={width:600},g=e("#"+a.eid).width();c.config&&(d=e.extend(d,c.config));c=d.width<=g?d.width:g;b.css({width:c});d.height&&b.find(".jqe-panel-body").css({height:d.height});d.HEIGHT&&b.css({height:d.HEIGHT})},setPositionWithButton:function(c){var b={width:600},d=c.target.closest(".jqe-button"),g=e("#"+a.eid).find(".jqe-toolbar"),f=g.width();c.config&&(b=e.extend(b,c.config));var c=b.width<=f?b.width:f,h=g.offset(),l=d.offset(),g=l.top+d.height();b.align=="left"?
b=l.left:f>c&&c>400?b=h.left+(f-c)/2-3:(b=l.left,b+c>h.left+f&&(b=b-c+d.width()));return{top:g,left:b}},setPosition:function(b){var d=!1,g=b.event,f,i=b.config,h=this.panel.width(),l=this.panel.height(),m=0;j.IE6&&(m=e(document).scrollTop()||document.documentElement.scrollTop);a.log("run","\u5f00\u59cb\u8bbe\u7f6e\u9762\u677f\u663e\u793a\u4f4d\u7f6e("+b.name+")");/^(center|middle)$/i.test(i.position)?(f=(e(window).width()-h)/2,g=m+(e(window).height()-l)/2,f={left:f,top:g},j.IE6||(this.panel.css("position",
"fixed"),d=!0)):g&&(e(g.target).closest(".jqe-button").size()?f=this.setPositionWithButton(b):(f=g.pageX-80,g=g.pageY-40,f<20&&(f=20),g<20&&(g=20),f={left:f,top:g}),this.panel.css("position","absolute"));!d&&e("body").css("position")=="relative"&&(d=(e(window).width()-e("body").width())/2,d>0&&(f.left-=d));return this.panel.css(f)},action:function(b,d,e){var g=this.target,f="",e=e||g.closest("[name]").attr("name");if("panel-close"===e){if(this.hide())return a.pluginExit(),!1}else if("panel-submit"===
e){if(typeof b.check==="function"&&!b.check(d,b))return!1;if(typeof b.ok==="function")b.ok(d,b)&&(this.hide(),a.monitor(b.name));else if(typeof b.get==="function"&&(f=b.get(d,b,g)))b.pasteHTML(f),this.hide(),a.monitor(b.name);a.pluginExit()}else if(b.action)return a.Plugin=b,(f=b.action(g,d,b))?(b.pasteHTML(f),this.hide(),a.monitor(b.name),a.pluginExit(),!1):!1===f?(a.pluginExit(),!1):!0},reset:function(){var b=this.panel;b.find(".jqe-panel-error").html("").hide();b.find("form").trigger("reset");
var d="",e=b.find(":text[fill=Selection]");e.size()&&((b=a.mod("Selection"))&&(d=b.get("text")),d&&e.val(d))},error:function(a){this.panel.find(".jqe-panel-error").html(a).show()},notice:function(a){this.panel.find(".jqe-panel-notice").html(a).show()},showOverlay:function(){var a=e(".jqe-panel-overlay"),b=e(document).width(),d=e(document).height();e(window).width();var g=e(window).height();a.size()||(e("body").append('<div class="jqe-panel-overlay"></div>'),a=e(".jqe-panel-overlay"));a.show().height(d);
j.IE6&&(d>=g&&(b-=21),a.width(b))},hideOverlay:function(){e(".jqe-panel-overlay").hide()}};if(e.browser.mozilla)window.addEventListener("DOMMouseScroll",function(){},!1);else if(e.fn.live)e(".jqe-panel textarea").live("mousewheel",function(a){if(a.originalEvent.wheelDelta){var b=a.originalEvent.wheelDelta>0;return h(e(a.target),b)}});else if(e.fn.on)e(document).on(".jqe-panel textarea","mousewheel",function(a){if(a.originalEvent.wheelDelta){var b=a.originalEvent.wheelDelta>0;return h(e(a.target),
b)}});var b={show:function(){}}})(jQEditor,jQuery);
(function(a){a.mod("Confirm",{config:{info:"\u63d0\u793a\uff1a\u60a8\u7684\u5185\u5bb9\u8fd8\u6ca1\u6709\u4fdd\u5b58\uff0c\u786e\u5b9a\u8981\u79bb\u5f00\u5417\uff1f"},set:function(e){e=e||this.config.info;if(typeof window.onbeforeunload=="function")return!1;window.onbeforeunload=function(a){a=a||window.event;return a.returnValue=e};a.log("run","\u8bbe\u7f6e\u4e86\u79bb\u5f00\u63d0\u793a\uff1a"+e);return!0},clear:function(){window.onbeforeunload=null;a.log("run","\u53d6\u6d88\u4e86\u79bb\u5f00\u63d0\u793a")}})})(jQEditor);
(function(a,e){var f=a.consts,h=!1,j={mouseover:0,mouseout:0,tidHidePanel:0},g=a.mod("Event");g.bind("keydown",function(){clearTimeout(j.tidHidePanel);j.tidHidePanel=setTimeout(function(){a.hidePanel()},1E3)});g.bind("mousedown",function(){a.hidePanel()});a.mod("Menu",{add:function(a,c){d.add(a,c)},set:function(a,c){d.type=c;return d.set(a)},hide:function(){d.hide()},isShow:function(b){return b?(b=e("div[id^=jqe-"+b.name+"]"),b.size()&&b.is(":visible")&&a.eid==b.attr("eid")):h}});var d={type:"",menu:null,
click_objs:[],contextmenu_objs:[],mouseup_objs:[],add:function(a,c){this[a+"_objs"]||(this[a+"_objs"]=[]);this[a+"_objs"].push(c)},set:function(b){var c=null,d=null,g=this[this.type+"_objs"],f,h=a.mod("Selection"),j=null,l="";h&&(l=""+h.getText(),j=h.getElement(),typeof j==="object"&&e.nodeName(j,"img")&&(l=j));try{for(var m in g)if(c=g[m],c.check(l||j,b)){f="jqe-"+this.type+"-"+m;this.hide();d=this.build(f,c,j);break}}catch(r){a.log("error","\u83dc\u5355\u63d2\u4ef6"+(c.title||"\u672a\u77e5")+"\u9047\u5230\u9519\u8bef\uff0c"+
r.description+"\uff0cmenuPlugin.check: "+c.check)}return d?(this.menu=d,this.setPosition(b),this.show(),a.log("run","\u663e\u793a\u83dc\u5355\uff1a"+c.title),!1):!0},build:function(b,c,d){var g=this,f=[],h=null,j=a.get("option"),l=a.lang(j.lang),m=a.icon(j.skin),r={};menubody=c.getHtml(d);if(typeof menubody==="string")f.push('<div id="'+b+'" class="jqe-menu" eid="'+a.eid+'">'),f.push(menubody),f.push("</div>");else if(typeof menubody==="object"&&menubody.html)menubody.className?f.push('<div id="'+
b+'" class="jqe-menu '+menubody.className+'" eid="'+a.eid+'">'):f.push('<div id="'+b+'" class="jqe-menu">'),f.push(menubody.html),f.push("</div>");else if(typeof menubody==="object"){f.push('<div id="'+b+'" class="jqe-menu" eid="'+a.eid+'">');f.push('<ul class="jqe-menu-list jqe-'+j.skin+'">');for(q in menubody)if("-"===q.substr(0,1))f.push('<li menutype="1" class="jqe-menu-separator"></li>');else{if((d=l[q])&&typeof d=="object")d=d.title;f.push('<li menutype="1" menuname="'+q+'" ');menubody[q]||
f.push(' class="jqe-menu-disabled"');f.push('><a name="'+q+'" href="jqe:menu-'+q+'" onclick="return false">');f.push('<span class="jqe-menu-icon '+q);m[q]||f.push(" jqe-menu-noicon");f.push('"></span>');f.push('<span class="jqe-menu-text">'+d+"</span>");if(menubody[q]==2||typeof menubody[q]==="object"){f.push('<span class="jqe-shortcut-key"></span>');f.push('<span class="jqe-menu-arrow"></span>');f.push('</a><div class="jqe-menu jqe-submenu">');if(menubody[q]==2){if(d=a.plugin(q))f.push(d.panelHtml()),
r[q]=d}else{f.push('<ul class="jqe-menu-list jqe-'+j.skin+'">');for(subname in menubody[q]){if((d=l[subname])&&typeof d=="object")d=d.title;f.push('<li menutype="2" ');"-"===subname.substr(0,1)?f.push(' class="jqe-menu-separator">'):(f.push('><a name="'+subname+'"><span class="jqe-menu-icon '+subname),m[subname]||f.push(" jqe-menu-noicon"),f.push('"></span><span class="jqe-menu-text">'+d+"</span></a>"));f.push("</li>")}f.push("</ul>");f.push('<div class="jqe-menu-vertical-separator"></div>')}f.push("</div>")}else f.push("</a>");
f.push("</li>")}f.push("</ul>");f.push('<div class="jqe-menu-vertical-separator"></div>');f.push("</div>")}e("body").append(f.join(""));h=e("#"+b);typeof c.callback==="function"&&c.callback(h);h.click(function(a){var b=e(a.target);return b.closest("li").hasClass("jqe-menu-disabled")?!1:g.action(b.closest("a[name]"),a)}).mousedown(function(a){a=e(a.target);return a.is(":input")?!0:a.closest(".jqe-shortcut-menu").size()?!0:!1}).mouseover(function(){var b=e(this).attr("id").replace(/(^jqe-|-\d\d?$)/g,
"");e("#"+a.eid+"-"+b).addClass("jqe-button-hover")});h.find("li").hover(function(){var a=e(this),b=a.children("div.jqe-submenu");a.attr("menutype")=="1"&&h.find("div.jqe-submenu").hide();a.children("a").addClass("hover");if(b.size()){b.show();var c=e(document).scrollTop()+e(window).height(),a=b.height()+a.offset().top;a>c&&b.css("top",c-a-20)}},function(){e(this).find("a.hover").removeClass("hover")});for(var q in r)(function(b){if(typeof b.one==="function"){var c=h.find("li[menuname="+q+"]"),d=
c.find(".jqe-submenu");c.click(function(a){e(a.target);return!1});b.one(d,b);d.click(function(c){e(c.target);if(c=b.action(e(c.target),d,b))b.pasteHTML(c),a.monitor(b.name),g.hide()})}})(r[q]);return h},action:function(b,c){var d=b.attr("name");d&&a.action(d,c)&&this.menu.hide();return b.closest(".jqe-shortcut-menu").size()?!0:!1},show:function(){this.menu.show();if(f.IE6){var a=this.menu.height();this.menu.find(".jqe-menu-vertical-separator").height(a)}h=!0},hide:function(){e(".jqe-menu").unbind("click").remove();
e(".jqe-button-hover").removeClass("jqe-button-hover");h=!1},setPosition:function(b){var c;c=a.get("iframe");var d=e(c).offset(),f=e(b.target),g=e(document).scrollTop()||document.documentElement.scrollTop,h=f.closest(".jqe-button");this.menu.removeAttr("plugin");h.size()?(f=f.closest(".jqe-button a"),d=f.offset(),c=d.left,b=d.top+f.height(),f.addClass("jqe-button-hover"),this.menu.attr("plugin",h.attr("id"))):b.button===2||f.is("img")?(c=b.clientX+d.left,b=b.clientY+d.top,this.type=="contextmenu"?
(c+=10,b+=10):this.type=="mouseup"&&(b+=10),f=g+e(window).height()-this.menu.height()-20,b=b<f?b:f):(c=b.clientX+d.left,b=b.clientY+d.top+20,f=g+e(window).height()-this.menu.height(),b>f&&(b=f-50));e("body").css("position")==="relative"&&(f=(e(window).width()-e("body").width())/2,f>0&&(c-=f));return this.menu.css({left:c,top:b})}}})(jQEditor,jQuery);
(function(a){function e(a){setTimeout(function(){var b=a.value.id,c=a.html;g.stack[b]=[];g.bookmarks[b]=[];h[b]=c;g.pointer[b]=-1},1)}var f=a.consts,h={},j=a.mod("Event");a.mod("History",{Redo:function(){g.redo()},Undo:function(){g.undo()},ischange:function(){return g.stack[a.eid].length},reset:function(){var d=a.plugin("Undo"),b=a.plugin("Redo");d.disable();b.disable();e({value:a.get("option"),html:a.get("document").body.innerHTML})}});j.bind("onmonitor",function(){g.ischange()&&g.add()});j.bind("click",
function(){g.saveBookmark()});j.bind("oncomplete",function(a){e(a)});var g={stack:[],pointer:[],last:[],bookmarks:{},ischange:function(){var d=a.eid;return a.get("document").body.innerHTML!==this.last[d]},saveBookmark:function(){var d=a.eid,b=a.mod("Selection"),c=this.pointer[d];f.IE&&(this.bookmarks[d][c]=b.getBookmark())},add:function(){var d=a.eid,b=a.mod("Confirm"),c=a.mod("Selection"),e=this.pointer[d],g=this.last,h=a.get("document"),j="",p=a.plugin("Undo"),l=a.plugin("Redo"),m=this.stack[d];
b&&b.set();if(f.IE){b=this.bookmarks[d];j=h.body.innerHTML;if(m[e]&&Math.abs(j.length-m[e].length)<5)return a.log("run","\u548c\u5f53\u524d\u5185\u5bb9\u7684\u5dee\u5f02\u592a\u5c0f\uff0c\u6ca1\u6709\u589e\u52a0\u5386\u53f2\u8bb0\u5f55"),0;e+=1;b[e]=c.getBookmark();g[d]=h.body.innerHTML}else g[d]="",e+=1;this.pointer[d]=e;m[e]=g[d];p&&p.enable();l&&l.disable();e<m.length-1&&m.splice(e+1,m.length-1-e);a.log("run","\u589e\u52a0\u4e00\u6761\u5386\u53f2\u8bb0\u5f55, pointer="+e);return 1},undo:function(){var d=
a.get("document"),b=a.mod("Selection"),c=a.eid,e=this.stack[c],g=this.bookmarks[c],n=--this.pointer[c],i="",p=a.plugin("Undo"),l=a.plugin("Redo"),i=n>=0?e[n]:h[c];this.last[c]=i;f.IE?(d.body.innerHTML=i,b.moveToBookmark(g[n])):a.execCommand("Undo");l&&l.enable();n<0&&p&&p.disable();a.log("run","undo");j.trigger({type:"onundo"});return 1},redo:function(){var d=a.get("document"),b=a.eid,c=a.mod("Selection"),e=this.stack[b],g=this.bookmarks[b],h=++this.pointer[b],i="",p=a.plugin("Undo"),l=a.plugin("Redo"),
i=e[h];this.last[b]=i;f.IE?(d.body.innerHTML=i,c.moveToBookmark(g[h])):a.execCommand("Redo");p.enable();h>=e.length-1&&l.disable();a.log("run","redo");j.trigger({type:"onredo"});return 1}}})(jQEditor);
(function(a){var e=[];a.mod("Message",{show:function(a,e,g){f.show(a,e=="error"?"error":"notice",g)},showError:function(a,e){this.show(a,"error",e)},showNotice:function(a,e){this.show(a,"notice",e)},change:function(a){a&&f.message&&f.message.html(a)},hide:function(){f.hide()}});a.Message=a.mod("Message");var f={message:null,show:function(f,j,g){var d=this,b=a.mod("Toolbar"),j=b.getMessage(),c=a.get("option"),k=c.messageSpeed,o=b.get().height(),b=b.get().width(),b=parseInt((b-500)/2,10);o+=1;g=parseInt(g,
10);g=isNaN(g)?c.messageDuration:g||c.messageDuration;d.message=j;j.html(f).css({top:o,left:b}).fadeIn(k);clearTimeout(e[a.eid]);e[a.eid]=setTimeout(function(){d.hide()},g)},hide:function(e){var f=a.get("option"),e=e?parseInt(e,10):0,e=isNaN(e)?f.messageSpeed:e||f.messageSpeed;this.message.fadeOut(e)}}})(jQEditor);
(function(a,e){function f(f){var g=a.get("document"),d,b=a.$("body")[0].childNodes,c=[],k=[];if(b&&b.length){for(var o=0,n=b.length;o<n;o++)d=b[o],1===d.nodeType?h.test(d.nodeName)?(k.length&&(c.push(k),k=[]),/^p$/i.test(d.nodeName)&&(f?e(d).html(e(d).html().replace(/^(\s|&nbsp;|\u3000)*/i,"\u3000\u3000")):e(d).html(e(d).html().replace(/^(\s|&nbsp;|\u3000)*/i,"")))):k.push(d):3===d.nodeType&&e.trim(d.nodeValue)&&k.push(d);k.length&&c.push(k);o=0;for(n=c.length;o<n;o++){f=g.createElement("p");d=c[o];
a.$(d[0]).before(f);b=0;for(k=d.length;b<k;b++)a.$(f).append(d[b])}}}var h=/^(blockquote|center|div|h[\d]|p)$/i;a.plugin("AutoFormat",{icon:{width:60,text:"\u81ea\u52a8\u6392\u7248","default":{AutoFormat:{XY:"none"}}},click:function(){f(!0);a.showNotice("\u6bb5\u843d\u9996\u884c\u81ea\u52a8\u7f29\u8fdb\u5b8c\u6210")}});a.plugin("CancelAutoFormat",{icon:{width:60,text:"\u81ea\u52a8\u6392\u7248","default":{CancelAutoFormat:{XY:"none"}}},click:function(){f(!1);a.showNotice("\u53d6\u6d88\u6bb5\u843d\u9996\u884c\u81ea\u52a8\u7f29\u8fdb\u5b8c\u6210")}})})(jQEditor,
jQuery);
(function(a){a.plugin("ForeColor, BackColor",{menuTitle:"\u989c\u8272\u9762\u677f",isNeedPanel:1,isNeedTitle:0,killEvents:["mousedown"],config:{width:230,height:160,colors:["000000,993300,333300,003300,003366,000080,333399,333333","800000,FF6600,808000,008000,008080,0000FF,666699,808080","FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999","FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0","FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF"]},selectedColor:{},init:function(a){var f=[],
h,j,g=a.config.colors;f.push('<span class="jqe-plugin-color" color="Transparent" style="width:206px;line-height:25px;"><a href="color:Transparent" onclick="return false;" style="width:16px;height:16px;background:#000;"></a>\u4f7f\u7528\u9ed8\u8ba4\u989c\u8272</span>');for(var d=0;d<g.length;d++){j=g[d].split(",");for(var b=0;b<j.length;b++)h='<a href="color:#'+j[b]+'" style="background:#'+j[b]+'"  onclick="return false;"></a>',h='<span class="jqe-plugin-color" color="#'+j[b]+'">'+h+"</span>",f.push(h)}a.cache.html=
f.join("")},click:function(e,f){var h=f.selectedColor[a.eid];h||(h="ForeColor"==f.name?"blue":"yellow");f.setColor(h);f.hide();return 1},menu:function(a,f){a.set(f);return 1},action:function(e,f,h){f=h.name;if(e=e.closest("[color]").attr("color"))h.selectedColor[a.eid]=e,$("#"+a.eid+"-"+f).find(".selected-color").css("background-color",e),h.setColor(e),a.monitor(f),h.hide();return!1},setColor:function(e){var f=this.name;a.execCommand(f,!1,e||"Transparent")}})})(jQEditor);
(function(a){var e=/^http:\/\/(\w+\.){0,3}(?:hudong|baike)\.com/i,f=a.mod("Utils"),h=typeof g_filterExternal==="function"?g_filterExternal:function(){return 0};a.plugin("Link",{config:{width:420,position:"center",overlay:!0},init:function(a){a.cache.html='<table border="0" width="100%"><tr><td width="60">\u6587 \u5b57\uff1a</td><td height="25" align="left"><input type="text" style="width:220px;" name="text" maxlength="200" fill="Selection"/></td></tr><tr><td>\u7f51 \u5740\uff1a</td><td height="25" align="left"><input type="text" value="http://" style="width:220px;" name="url" maxlength="250"/></td></tr><tr><td>\u6253 \u5f00\uff1a</td><td align="left"><select name="target"><option value="_blank">\u5728\u65b0\u7a97\u53e3</option><option value="_self">\u5728\u672c\u7a97\u53e3</option></select></td></tr></table>'},
get:function(a,e){var d=e.getValues(),b="";d.text=f.escape(d.text);d.url=d.url.replace(/[<>]/g,"");/^https?:[^<>;&?#$]+?\.[^<>;&?#$]{2,50}/i.test(d.url)?d.text&&d.url?b='<a href="'+d.url+'" target="'+d.target+'">'+d.text+"</a>":d.text?d.url||e.error("\u8bf7\u8f93\u5165\u8d85\u94fe\u63a5\u7f51\u5740"):e.error("\u8bf7\u8f93\u5165\u8d85\u94fe\u63a5\u6587\u5b57"):e.error("\u7f51\u5740\u53ef\u80fd\u4e0d\u7b26\u5408\u89c4\u8303");return b},check:function(a,f){var d=f.getValues();if(!h())return!0;if(/^([\w]+\.){0,3}(hudong|baike)\.com$/i.test(location.hostname)){if(!e.test(d.url))return f.error("\u63d0\u793a\uff1a\u4e3a\u907f\u514d\u5916\u94fe\u5e7f\u544a\uff0c\u4ec5\u5141\u8bb8\u4e92\u52a8\u767e\u79d1\u7684\u94fe\u63a5"),
!1}else{var b=d.url.indexOf(location.hostname);if(d.url.indexOf("http")==0&&(b<0||b>10))return f.error("\u63d0\u793a\uff1a\u4e3a\u907f\u514d\u5916\u94fe\u5e7f\u544a\uff0c\u4ec5\u5141\u8bb8\u6dfb\u52a0\u672c\u7ad9\u7684\u94fe\u63a5"),!1}return!0}})})(jQEditor);
(function(a,e){function f(){a.$("table.pic-txtTable td.pic").each(function(){var b=a.$(this),c=e.trim(b.html()),c=c.replace(/\u200B/g,"");!c&&!b.children().length&&b.html(o)})}var h=0,j=0,g={},d=a.mod("Menu"),b=a.mod("Event"),c=!1;b.bind("oncomplete",function(){a.plugin("InsertTable").setTableId()});a.plugin("InsertTable",{menuType:"Menu",menuTitle:"\u8868\u683c\u64cd\u4f5c",isNeedTitle:0,depends:["Panel","Selection"],config:{width:280},settings:{isHudong:!1},init:function(a){for(var b=['<table id="jqe-plugin-table" class="jqe-plugin-table">'],
d=1;d<=10;d++){b.push("<tr>");for(var e=1;e<=12;e++)b.push('<td ij="'+d+"-"+e+'"><a href="jqe:\u70b9\u51fb\u63d2\u5165\u4e00\u4e2a'+d+"\u884c"+e+'\u5217\u7684\u8868\u683c" title="'+d+"\u884c"+e+'\u5217, \u70b9\u51fb\u63d2\u5165" onclick="return false;">&nbsp;</a></td>');b.push("</tr>")}b.push('<tr><td colspan="12" style="text-align:left;color:#666666;width:100%;line-height:18px;">');b.push('&nbsp;\u8868\u683c\u5bbd <input name="width" style="width:40px;height:18px;line-height:18px;" maxlength="4" value=""/>');
b.push('<span class="jqe-plugin-table-xtrxtd">x\u884cx\u5217</span></td></tr>');b.push("</table>");a.cache.html=b.join("");a.settings.isHudong&&(c=!0)},setTableId:function(){a.$("table").each(function(a,b){if(!b.id)b.id="jqe-table-"+j,j+=1;k.scanTable(b)})},one:function(a,b){var b=this,c=a.find(".jqe-plugin-table td[ij]");c.mouseover(function(){var d=e(this);clearTimeout(h);h=setTimeout(function(){b.hightLight(d,c,a)},100)})},hightLight:function(a,b,c){var d=a.attr("ij").split("-"),a=d[0],d=d[1];
b.removeClass("hover");for(var e=1;e<=a;e++)for(var f=1;f<=d;f++)b.filter('[ij="'+e+"-"+f+'"]').addClass("hover");c.find(".jqe-plugin-table-xtrxtd").text(a+"\u884c "+d+"\u5217")},action:function(b,d,f){var b=b.closest("[ij]"),g=d.find("input[name=width]"),d=e.trim(g.val());if(!b.size())return!1;if(!d||!/^(\d{0,4}|\d{1,3}%)$/.test(d))d="";d&&g.val(d);b=b.attr("ij").split("-");ix=b[0];jx=b[1];f.hide();f=['<table class="jqe-table" width="'+d+'" border="1" bordercolor="#cccccc">'];c&&(f=['<table class="table" width="'+
d+'">']);f.push("<tbody>");if(!c){f.push("<tr>");for(b=1;b<=jx;b++)f.push("<th>&#8203;</th>")}f.push("</tr>");for(d=1;d<=ix;d++){f.push("<tr>");for(b=1;b<=jx;b++)f.push("<td>&#8203;</td>");f.push("</tr>")}f.push("</tbody></table>");setTimeout(function(){a.plugin("InsertTable").setTableId()},0);return f.join("")},menu:function(b,c){a.mod("Menu").set(c.event,c.name);return 1}});d.add("InsertTable",{title:"\u8868\u683c\u4e0b\u62c9\u83dc\u5355",check:function(){return!0},getHtml:function(){var a=b.getElement(),
d=null,e,f;if(a)e=a.table,f=a.cell;if(e){if(a=e.getElementsByTagName("th"),e=e.caption,d={InsertTable:0,InsertTemplet:0,addTableTitleRow:1,RemoveTableTitleRow:1,addTableCaption:1,RemoveTableCaption:1,Insert:{RowInsertBefore:1,RowInsertAfter:1,ColumnInsertBefore:1,ColumnInsertAfter:1,Append5Row:1,Append5Column:1},Remove:{RemoveRow:1,RemoveColumn:1,EmptyTable:1,RemoveTable:1},MergeCell:{ColumnMergeAfter:1,RowMergeAfter:1,CancelCellMerge:1},"-a":1,SetTableWidth:{TableWidthDefault:1,TableWidthAuto:1,
TableWidthFixed:1,TableWidthAverage:1},SetCellWidth:{SetCellWidthAdd10:1,SetCellWidthReduce10:1,SetCellWidthAdd50:1,SetCellWidthReduce50:1},SetTableAlign:{SetTableAlignLeft:1,SetTableAlignRight:1,SetTableAlignCenter:1},SetColumnAlign:{SetColumnAlignLeft:1,SetColumnAlignRight:1,SetColumnAlignCenter:1,SetColumnValignTop:1,SetColumnValignCenter:1},SetRowAlign:{SetRowAlignLeft:1,SetRowAlignRight:1,SetRowAlignCenter:1,SetRowValignTop:1,SetRowValignCenter:1},SetCellAlign:{SetCellAlignLeft:1,SetCellAlignRight:1,
SetCellAlignCenter:1,SetCellValignTop:1,SetCellValignCenter:1},TableMove:{RowMoveBefore:1,RowMoveAfter:1,RowMoveFirst:1,RowMoveLast:1}},e&&e.innerHTML?delete d.addTableCaption:delete d.RemoveTableCaption,a.length?delete d.addTableTitleRow:delete d.RemoveTableTitleRow,f.rowSpan==1&&f.colSpan==1)d.MergeCell.CancelCellMerge=0}else d={InsertTable:a?2:0,InsertTemplet:a?{ImageTempletA:1,ImageTempletB:1}:0,addTableTitleRow:0,RemoveTableTitleRow:0,addTableCaption:0,RemoveTableCaption:0,Insert:0,Remove:0,
MergeCell:0,"-a":1,SetTableWidth:0,SetCellWidth:0,SetTableAlign:0,SetColumnAlign:0,SetRowAlign:0,SetCellAlign:0,TableMove:0};c&&(delete d.addTableTitleRow,delete d.RemoveTableTitleRow);return d}});d.add("contextmenu",{title:"\u4e00\u4e2a\u53f3\u952e\u83dc\u5355\uff0c\u6ca1\u6709\u9009\u4e2d\u5185\u5bb9\u65f6\u89e6\u53d1",check:function(b,c){if(b&&typeof b=="object")if(/^(h2|h3|img|a|sup)$/i.test(b.nodeName)||c.ctrlKey)return!1;else{if(/^(td|th|caption)$/i.test(b.nodeName)||a.$(b).closest("tr").size())return!0}else return!1},
getHtml:function(b){var d={Redo:1,Undo:1},e=a.$(b).closest("td,th"),b=a.$(b).closest("a");if(e.size()){if(d=e.closest("tr"),b=d.closest("table"),e=e[0],b=b[0],th=b.getElementsByTagName("th"),d={addTableTitleRow:1,RemoveTableTitleRow:1,addTableCaption:1,RemoveTableCaption:1,Insert:{RowInsertBefore:1,RowInsertAfter:1,ColumnInsertBefore:1,ColumnInsertAfter:1,Append5Row:1,Append5Column:1},Remove:{RemoveRow:1,RemoveColumn:1,EmptyTable:1,RemoveTable:1},MergeCell:{ColumnMergeAfter:1,RowMergeAfter:1,CancelCellMerge:1},
"-a":1,SetTableWidth:{TableWidthDefault:1,TableWidthAuto:1,TableWidthFixed:1,TableWidthAverage:1},SetCellWidth:{SetCellWidthAdd10:1,SetCellWidthReduce10:1,SetCellWidthAdd50:1,SetCellWidthReduce50:1},SetTableAlign:{SetTableAlignLeft:1,SetTableAlignRight:1,SetTableAlignCenter:1},SetColumnAlign:{SetColumnAlignLeft:1,SetColumnAlignRight:1,SetColumnAlignCenter:1,SetColumnValignTop:1,SetColumnValignCenter:1},SetRowAlign:{SetRowAlignLeft:1,SetRowAlignRight:1,SetRowAlignCenter:1,SetRowValignTop:1,SetRowValignCenter:1},
SetCellAlign:{SetCellAlignLeft:1,SetCellAlignRight:1,SetCellAlignCenter:1,SetCellValignTop:1,SetCellValignCenter:1},TableMove:{RowMoveBefore:1,RowMoveAfter:1,RowMoveFirst:1,RowMoveLast:1}},(caption=b.caption)&&caption.innerHTML?delete d.addTableCaption:delete d.RemoveTableCaption,th.length?delete d.addTableTitleRow:delete d.RemoveTableTitleRow,e.rowSpan==1&&e.colSpan==1)d.MergeCell.CancelCellMerge=0}else{d.Image=1;d.InsertTable=2;if(b.size())d.Link=1;d.Source=1}c&&(delete d.addTableTitleRow,delete d.RemoveTableTitleRow);
return d}});a.plugin("RemoveTable",{isNeedPanel:0,click:function(){var c=b.getElement().table;a.$(c).remove();return!0}});a.plugin("RemoveRow",{isNeedPanel:0,click:function(){var c=b.getElement().row,d=a.$(c).closest("table");a.$(c).remove();d.size()&&k.scanTable(d[0]);return!0}});var k={removeColumn:function(){var a,c;a=b.getElement();c=a.table;a=a.cell.cellIndex;for(var d=0,e=c.rows.length;d<e;d++)c.rows[d].deleteCell(a);this.scanTable(c)},insertRow:function(b,c,d){var e,d=d||0;if(b&&c){e=c.rowIndex;
if(d)for(var f=c.cells,h=0,j=f.length;h<j;h++)if(f[h].rowSpan>1){d=0;e+=1;c=b.rows[e];break}c=a.$(c).clone();c.children().html("&#8203;").attr("rowSpan",1);d=b.insertRow(e+d);f=g[b.id];if(f[e])for(h in f[e])f[e][h].rowSpan+=1;a.$(d).html(c.html());this.scanTable(b)}},isRowspan:function(a){for(var b=!1,a=a.cells,c=0,d=a.length;c<d;c++)if(a[c].rowSpan>1){b=!0;break}return b},moveRow:function(b,c,d){d=d||"after";b&&c&&(d==="before"?(d=a.$(c).prev(),d.size()&&(d.children().size()!==c.cells.length?a.mod("Message").showError("\u63d0\u793a\uff1a\u4e0a\u4e0b\u884c\u5355\u5143\u683c\u6570\u4e0d\u76f8\u7b49\uff0c\u4e0d\u80fd\u4e0a\u4e0b\u79fb\u52a8\u3002"):
this.isRowspan(d[0])||this.isRowspan(c)?a.mod("Message").showError("\u63d0\u793a\uff1a\u4e0a\u4e0b\u884c\u5355\u5143\u683c\u6709\u8de8\u884c\u5408\u5e76\u65f6\uff0c\u4e0d\u80fd\u4e0a\u4e0b\u79fb\u52a8\u3002"):d.before(c))):d==="after"?(d=a.$(c).next(),d.size()&&(d.children().size()!==c.cells.length?a.mod("Message").showError("\u63d0\u793a\uff1a\u4e0a\u4e0b\u884c\u5355\u5143\u683c\u6570\u4e0d\u76f8\u7b49\uff0c\u4e0d\u80fd\u4e0a\u4e0b\u79fb\u52a8\u3002"):this.isRowspan(d[0])||this.isRowspan(c)?a.mod("Message").showError("\u63d0\u793a\uff1a\u4e0a\u4e0b\u884c\u5355\u5143\u683c\u6709\u8de8\u884c\u5408\u5e76\u65f6\uff0c\u4e0d\u80fd\u4e0a\u4e0b\u79fb\u52a8\u3002"):
d.after(c))):d==="first"?a.$(b).prepend(c):d==="last"&&a.$(b).append(c),this.scanTable(b))},addTitleRow:function(b){var c="";b&&(c=a.$(b.rows[0]).clone(),c.children().html("&nbsp;").attr("rowSpan",1),c=c.html().replace(/td/ig,"th"),b=b.insertRow(0),a.$(b).html(c))},insertColumn:function(b,c,d){for(var e,f,c=this.getCellIndex(b,c),d=c+d,g=0,h=b.rows.length;g<h;g++)if(e=b.rows[g],d<=e.cells.length)f=a.$(e.cells[c]).clone(),f[0].colSpan=1,f[0].rowSpan=1,f.html("&nbsp;"),e=e.insertCell(d),a.$(e).replaceWith(f[0]);
this.scanTable(b)},setCell:function(){b.getElement()},setTable:function(){},setCaption:function(){var a;a=b.getElement().table;a.caption?a.deleteCaption():a.createCaption().innerHTML="\u8868\u683c\u540d\u79f0"},mergeColumn:function(){var a,c,d,e,f;a=b.getElement();c=a.cell;e=a.row;f=c.colSpan;d=c.cellIndex;if(d<e.cells.length-1){if((d=e.cells[d+1])&&c.rowSpan==d.rowSpan)c.colSpan=f+d.colSpan,c.innerHTML+=d.innerHTML,e.removeChild(d);this.scanTable(a.table)}},mergeRow:function(){var a,c,d,e,f,g;a=
b.getElement();e=a.table;c=a.cell;g=a.row;d=c.cellIndex;f=g.rowIndex;a=c.rowSpan;if(f<e.rows.length-1){f=e.rows[f+a];if((d=f.cells[d])&&c.colSpan==d.colSpan){if(g.cells.length>1)c.rowSpan=a+d.rowSpan;c.innerHTML+=d.innerHTML;f.removeChild(d);f.cells.length||e.deleteRow(f.rowIndex)}this.scanTable(e)}},unMerge:function(a,b,c){var d,e=c.cellIndex;d=b.rowIndex;if(c.rowSpan>1){b=c.rowSpan;c.rowSpan=1;for(var f=0;f<b-1;f++)c=a.rows[d+f+1].insertCell(e),c.innerHTML="&nbsp;"}else if(c.colSpan>1){d=c.colSpan;
c.colSpan=1;for(f=0;f<d-1;f++)c=b.insertCell(e+1),c.innerHTML="&nbsp;"}this.scanTable(a)},scanTable:function(a){var b=0,c=a.rows;if(c.length){for(var d=c[0].cells,e=0,f=d.length;e<f;e++)b+=d[e].colSpan;b={};e=0;for(f=c.length;e<f;e++)for(var d=0,h=c[e].cells.length;d<h;d++){var j=c[e].cells[d];if(!(j.colSpan>1&&j.rowSpan>1))if(j.colSpan>1){b[e]={};for(var k=d+1,i=d+j.colSpan;k<i;k++)b[e][k]=j}else if(j.rowSpan>1){k=e+1;for(i=e+j.rowSpan;k<i;k++)b[k]={},b[k][d]=j}}return g[a.id]=b}},isExistCell:function(a,
b,c){var d=!0,e=a.id;e?a=g[e]:(a.id="jqe-table-"+j,a=k.scanTable(a));a[b]&&a[b][c]&&(d=!1);return d},getCellIndex:function(a,b){var c=b.cellIndex,d=b.parentNode.rowIndex,e=g[a.id];if(e[d])for(var f in e[d])f<=c&&(c+=1);return c},getCellByIndex:function(a,b,c){var d=b.rowIndex,a=g[a.id];if(a[d])for(var e in a[d])e<=c&&(c-=1);return b.cells[c>0?c:0]},setCellWidth:function(b,c,d){b=a.$(c).width()+d;if(c&&b>0)c.width=b},SetCellAlign:function(a,b,c){if(a){if(b)a.align=b;if(c)a.vAlign=c}},SetColumnAlign:function(a,
b,c,d){for(var e=this.getCellIndex(a,b),f=0,g=a.rows.length;f<g;f++)if((b=this.getCellByIndex(a,a.rows[f],e))&&this.isExistCell(a,f,e)){if(c)b.align=c;if(d)b.vAlign=d}},SetRowAlign:function(a,b,c){for(var d=0,e=a.cells.length;d<e;d++)if(cell=a.cells[d]){if(b)cell.align=b;if(c)cell.vAlign=c}},SetTableAlign:function(b,c){a.$(b).css({marginLeft:"",marginRight:""});c==="left"?a.$(b).css("marginLeft","5px"):c==="right"&&a.$(b).css("marginRight","5px")}};a.plugin("RemoveColumn",{click:function(a){k.removeColumn(a);
return!0}});a.plugin("RowInsertBefore",{click:function(){var a=b.getElement();k.insertRow(a.table,a.row,0);setTimeout(f,50);return!0}});a.plugin("RowInsertAfter",{click:function(){var a=b.getElement();k.insertRow(a.table,a.row,a.cell.rowSpan);setTimeout(f,50);return!0}});a.plugin("Append5Row",{click:function(){for(var a=b.getElement(),c=a.table.rows,c=c[c.length-1],d=0;d<5;d++)k.insertRow(a.table,c,1);setTimeout(f,50);return!0}});a.plugin("ColumnInsertBefore",{click:function(){eles=b.getElement();
table=eles.table;cell=eles.cell;k.insertColumn(table,cell,0);return!0}});a.plugin("ColumnInsertAfter",{click:function(){eles=b.getElement();table=eles.table;cell=eles.cell;k.insertColumn(table,cell,cell.colSpan);return!0}});a.plugin("Append5Column",{click:function(){var c=b.getElement(),d=c.table.rows,c=c.cell.width;ths=a.$("<th></th><th></th><th></th><th></th><th></th>");tds=a.$("<td></td><td></td><td></td><td></td><td></td>");ths.html("&nbsp;");tds.html("&nbsp;");c&&(ths.width(c),tds.width(c));
for(var c=0,f=d.length;c<f;c++)e.nodeName(d[c].cells[0],"th")?ths.clone().appendTo(d[c]):tds.clone().appendTo(d[c]);return!0}});a.plugin("ColumnMergeAfter",{click:function(a){k.mergeColumn(a,1);return!0}});a.plugin("RowMergeAfter",{click:function(a){k.mergeRow(a,1);return!0}});a.plugin("CancelCellMerge",{click:function(){var a=b.getElement();k.unMerge(a.table,a.row,a.cell);return!0}});a.plugin("addTableCaption",{click:function(a){k.setCaption(a);return!0}});a.plugin("RemoveTableCaption",{click:function(a){k.setCaption(a);
return!0}});a.plugin("addTableTitleRow",{click:function(){var a=b.getElement();a.table&&k.addTitleRow(a.table);return!0}});a.plugin("RemoveTableTitleRow",{click:function(){var a=b.getElement();a.table&&a.table.deleteRow(0);return!0}});a.plugin("EmptyTable",{click:function(){var a=b.getElement(),c;if(a.table)for(var a=a.table,d=0,e=a.rows.length;d<e;d++){c=a.rows[d];for(var f=0,g=c.cells.length;f<g;f++)c.cells[f].innerHTML="<br />"}return!0}});a.plugin("TableWidthDefault",{click:function(){var a=b.getElement().table,
c;a.removeAttribute("width");for(var d=0,e=a.rows.length;d<e;d++){c=a.rows[d];for(var f=0,g=c.cells.length;f<g;f++)c.cells[f].removeAttribute("width")}return!0}});a.plugin("TableWidthAuto",{click:function(){var a=b.getElement().table,c;a.width="99%";for(var d=0,e=a.rows.length;d<e;d++){c=a.rows[d];for(var f=0,g=c.cells.length;f<g;f++)c.cells[f].removeAttribute("width")}return!0}});a.plugin("TableWidthFixed",{click:function(){var c=b.getElement().table,d,e;width=a.$(c).width();c.removeAttribute("width");
for(var f=0,g=c.rows.length;f<g;f++){d=c.rows[f];for(var h=0,j=d.cells.length;h<j;h++)e=d.cells[h],e.width=a.$(e).outerWidth()}return!0}});a.plugin("TableWidthAverage",{click:function(){var c=b.getElement().table,d,e,f;d=c.rows[0].cells;for(var g=e=0,h=d.length;g<h;g++)e+=d[g].colSpan;f=c.width?c.width/e:a.$(c).width()/e;f=Math.round(f)-10;c.removeAttribute("width");g=0;for(h=c.rows.length;g<h;g++){d=c.rows[g];for(var j=0,k=d.cells.length;j<k;j++)if(e=d.cells[j],e.colSpan==1)e.width=f}return!0}});
a.plugin("SetCellWidthAdd10",{click:function(){var a=b.getElement();k.setCellWidth(a.table,a.cell,10);return!1}});a.plugin("SetCellWidthReduce10",{click:function(){var a=b.getElement();k.setCellWidth(a.table,a.cell,-10);return!1}});a.plugin("SetCellWidthAdd50",{click:function(){var a=b.getElement();k.setCellWidth(a.table,a.cell,50);return!1}});a.plugin("SetCellWidthReduce50",{click:function(){var a=b.getElement();k.setCellWidth(a.table,a.cell,-50);return!1}});a.plugin("SetColumnAlignLeft",{click:function(){var a=
b.getElement();k.SetColumnAlign(a.table,a.cell,"left","");return!0}});a.plugin("SetColumnAlignRight",{click:function(){var a=b.getElement();k.SetColumnAlign(a.table,a.cell,"right","");return!0}});a.plugin("SetColumnAlignCenter",{click:function(){var a=b.getElement();k.SetColumnAlign(a.table,a.cell,"center","");return!0}});a.plugin("SetColumnValignTop",{click:function(){var a=b.getElement();k.SetColumnAlign(a.table,a.cell,"","top");return!0}});a.plugin("SetColumnValignCenter",{click:function(){var a=
b.getElement();k.SetColumnAlign(a.table,a.cell,"","center");return!0}});a.plugin("SetRowAlignLeft",{click:function(){var a=b.getElement();k.SetRowAlign(a.row,"left","");return!0}});a.plugin("SetRowAlignRight",{click:function(){var a=b.getElement();k.SetRowAlign(a.row,"right","");return!0}});a.plugin("SetRowAlignCenter",{click:function(){var a=b.getElement();k.SetRowAlign(a.row,"center","");return!0}});a.plugin("SetRowValignTop",{click:function(){var a=b.getElement();k.SetRowAlign(a.row,"","top");
return!0}});a.plugin("SetRowValignCenter",{click:function(){var a=b.getElement();k.SetRowAlign(a.row,"","center");return!0}});a.plugin("SetCellAlignLeft",{click:function(){var a=b.getElement();k.SetCellAlign(a.cell,"left","");return!0}});a.plugin("SetCellAlignRight",{click:function(){var a=b.getElement();k.SetCellAlign(a.cell,"right","");return!0}});a.plugin("SetCellAlignCenter",{click:function(){var a=b.getElement();k.SetCellAlign(a.cell,"center","");return!0}});a.plugin("SetTableAlignLeft",{click:function(){var a=
b.getElement();k.SetTableAlign(a.table,"left");return!0}});a.plugin("SetTableAlignRight",{click:function(){var a=b.getElement();k.SetTableAlign(a.table,"right");return!0}});a.plugin("SetTableAlignCenter",{click:function(){var a=b.getElement();k.SetTableAlign(a.table,"center");return!0}});a.plugin("SetCellValignTop",{click:function(){var a=b.getElement();k.SetCellAlign(a.cell,"","top");return!0}});a.plugin("SetCellValignCenter",{click:function(){var a=b.getElement();k.SetCellAlign(a.cell,"","center");
return!0}});a.plugin("RowMoveBefore",{click:function(){var a=b.getElement();k.moveRow(a.table,a.row,"before");return!0}});a.plugin("RowMoveAfter",{click:function(){var a=b.getElement();k.moveRow(a.table,a.row,"after");return!0}});a.plugin("RowMoveFirst",{click:function(){var a=b.getElement();k.moveRow(a.table,a.row,"first");return!0}});a.plugin("RowMoveLast",{click:function(){var a=b.getElement();k.moveRow(a.table,a.row,"last");return!0}});var o='<img class="templet" src="http://www.huimg.cn/public/default_218.png">',
n='<table class="picTable"><tr><td>'+o+"</td><td>"+o+"</td><td>"+o+"</td></tr><tr><td>"+o+"</td><td>"+o+"</td><td>"+o+"</td></tr></table>",i='<table class="pic-txtTable"><tr><td class="txt" align="left" valign="middle">&#8203;</td><td class="pic">'+o+'</td></tr><tr><td class="txt" align="left" valign="middle">&#8203;</td><td class="pic">'+o+"</td></tr></table>",p='<table class="pic-txtTable"><tr><td class="pic">'+o+'</td><td class="txt" align="left" valign="middle">&#8203;</td></tr><tr><td class="pic">'+
o+'</td><td class="txt" align="left" valign="middle">&#8203;</td></tr></table>';a.plugin("ImageTemplet",{click:function(){a.pasteHTML(n);setTimeout(function(){a.plugin("InsertTable").setTableId()},0);return!0}});a.plugin("ImageTempletA",{click:function(){a.pasteHTML(i);setTimeout(function(){a.plugin("InsertTable").setTableId()},0);return!0}});a.plugin("ImageTempletB",{click:function(){a.pasteHTML(p);setTimeout(function(){a.plugin("InsertTable").setTableId()},0);return!0}});a.plugin("TableProps",{config:{position:"center",
width:400},init:function(a){a.cache.html='<table width="100%" border="0" class="jqe-plugin-tableprops">\t\t\t<tbody><tr><td colspan="4" class="jqe-plugin-tableprops-title">\t\t\t\u8868\u683c<span class="jqe-panel-notice">(\u8bbe\u7f6e\u8868\u683c\u5c5e\u6027)</td></tr>\t\t\t<tr><td>\u884c\u6570:<br/><input type="text" name="talbeRows" maxlength="3"/></td>\t\t\t\t<td>\u8868\u683c\u5bbd\u5ea6:<br/><input type="text" name="talbeWidth" maxlength="5"/></td>\t\t\t\t<td>\u8868\u683c\u5bf9\u9f50:<br/><select name="tableAlign"><option value="left">\u5de6\u5bf9\u9f50</option>\t\t\t\t<option value="center">\u5c45\u4e2d</option>\t\t\t\t<option value="right">\u53f3\u5bf9\u9f50</option></select></td></tr>\t\t\t<tr><td>\u5217\u6570:<br/><input type="text" name="talbeCols" maxlength="3"/></td>\t\t\t<td>\u8868\u683c\u9ad8\u5ea6:<br/><input type="text" name="talbeHeight" maxlength="5"/></td>\t\t\t<td>\u8868\u683c\u8fb9\u6846:<br/><input type="text" name="talbeBorder" maxlength="2"/></td></tr>\t\t\t<tr><td colspan="4" class="jqe-plugin-tableprops-title">\t\t\t\u884c<span class="jqe-panel-notice">(\u8bbe\u7f6e\u6574\u884c\u5355\u5143\u683c\u7684\u5c5e\u6027)</span></td></tr>\t\t\t<tr><td>\u5355\u5143\u683c\u80cc\u666f:<br/><input type="text" name="rowBg" maxlength="16"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bbd\u5ea6:<br/><input type="text" name="rowWidth" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u9ad8\u5ea6:<br/><input type="text" name="rowHeight" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bf9\u9f50:<br/><select name="tableAlign"><option value="left">\u5de6\u5bf9\u9f50</option>\t\t\t\t<option value="center">\u5c45\u4e2d</option>\t\t\t\t<option value="right">\u53f3\u5bf9\u9f50</option></select></td></tr>\t\t\t<tr><td colspan="4" class="jqe-plugin-tableprops-title">\t\t\t\u5217<span class="jqe-panel-notice">(\u8bbe\u7f6e\u6574\u5217\u5355\u5143\u683c\u7684\u5c5e\u6027)</span></td></tr>\t\t\t<tr><td>\u5355\u5143\u683c\u80cc\u666f:<br/><input type="text" name="columnBg" maxlength="16"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bbd\u5ea6:<br/><input type="text" name="columnWeidth" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u9ad8\u5ea6:<br/><input type="text" name="columnHeight" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bf9\u9f50:<br/><select name="tableAlign"><option value="left">\u5de6\u5bf9\u9f50</option>\t\t\t\t<option value="center">\u5c45\u4e2d</option>\t\t\t\t<option value="right">\u53f3\u5bf9\u9f50</option></select></td></tr>\t\t\t<tr><td colspan="4" class="jqe-plugin-tableprops-title">\t\t\t\u5355\u5143\u683c<span class="jqe-panel-notice">(\u4ec5\u8bbe\u7f6e\u5f53\u524d\u4e00\u4e2a\u5355\u5143\u683c\u7684\u5c5e\u6027)</span></td></tr>\t\t\t<tr><td>\u5355\u5143\u683c\u80cc\u666f:<br/><input type="text" name="cellBg" maxlength="16"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bbd\u5ea6:<br/><input type="text" name="cellWidth" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u9ad8\u5ea6:<br/><input type="text" name="cellHeight" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bf9\u9f50:<br/><select name="tableAlign"><option value="left">\u5de6\u5bf9\u9f50</option>\t\t\t\t<option value="center">\u5c45\u4e2d</option>\t\t\t\t<option value="right">\u53f3\u5bf9\u9f50</option></select></td></tr>\t\t\t</tbody></table>'},
callback:function(){},ok:function(){k.setTable(d);return 0}})})(jQEditor,jQuery);
(function(a){function e(a){var a=a.replace(/\n+/g,""),a=$("<div></div>").append(a),d="",b=null;a.children().each(function(){try{b=$(this),d=b.html(),d.length>50&&b.html("\n"+d+"\n"),b.after("\n")}catch(a){}});var c=a.find("table");c.size()&&c.find("tr,td,th").after("\n").before("\n");a=a.html();a=a.replace(/\n+/g,"\n");a=a.replace(/<BR>/ig,"<br>\n");a=a.replace(/<.+?>/ig,function(a){a=a.replace(/COLOR:/g,"color:");return a=a.replace(/rgb\(\d+,(?: |&nbsp;)?\d+,(?: |&nbsp;)?\d+\)/ig,function(a){return j.colorToHex(a)})});
f.IE&&(a=a.replace(/<(\w+)/ig,function(a,b){return"<"+b.toLowerCase()}),a=a.replace(/(\w+)>/ig,function(a,b){return b.toLowerCase()+">"}));return a}var f=a.consts,h="",j=a.mod("Utils");a.plugin("Source",{icon:{text:"","default":{Source:{XY:"none"}}},config:{width:800,height:400,position:"center",overlay:!0},init:function(a){a.cache.html='<textarea name="content" style="width:99%;height:395px;resize:none;"></textarea>'},callback:function(g){var d=a.getHTML(!1);h=(h=e(d))||"<p>\n\n</p>";g.find("textarea[name=content]").val(h);
g=g.find("textarea[name=content]")[0];f.IE?(g=g.createTextRange(),g.collapse(!0),g.select()):(g.setSelectionRange(0,0),g.focus())},ok:function(e){a.mod("Utils");var e=e.find("textarea[name=content]").val(),d=0,e=$.trim(e);e!==h&&(e===""?e=f.IE?"<p>&nbsp;</p>":"<p><br></p>":/<\w+/i.test(e)||(e="<p>"+e+"</p>"),a.setHTML(e));return 1}})})(jQEditor);
(function(a){a.plugin("PasteText",{config:{width:600,position:"center",overlay:!0},depends:["Panel","Selection"],init:function(a){a.cache.html='<textarea name="content" style="width:99%;height:260px"></textarea>'},get:function(e){var f=a.mod("Utils"),e=e.find("textarea[name=content]").val();return f.escape(e)}})})(jQEditor);
(function(a){var e=null;a.plugin("PasteWord",{defaultHtml:"<p>&nbsp;</p>",config:{width:600,position:"center",overlay:!0},init:function(a){a.cache.html='<div class="jqe-plugin-pasteword"></div>'},one:function(f,h){var j=f.find(".jqe-plugin-pasteword"),g={id:"panel_PasteWord",contentEditable:!0,iframeStyle:{width:"99%",height:"99%",margin:"0 5px"},contentCssName:a.get("option").contentCssName};h.notice("\u8bf7\u5c06Word\u5f53\u4e2d\u7684\u5185\u5bb9\u7c98\u8d34\u5230\u4e0b\u9762\u7684\u65b9\u6846\u91cc\uff0c\u7136\u540e\u70b9\u51fb\u786e\u5b9a\u6309\u94ae\u3002");
j=a.iframe(g,j,h.defaultHtml);e=j.dom;j.win.focus()},callback:function(a,h){e.body.innerHTML=h.defaultHtml},get:function(a,h){var j="",g="";if(e)g=e.body.innerHTML,j=h.cleanWord(g),/^<p>&nbsp;<\/p>$/i.test(j)&&(j="");return j},cleanWord:function(a){if(a.match(/mso(-|normal)|WordDocument|<table\s+[^>]*?x:str/i))for(var a=a.replace(/<\!--[\s\S]*?--\>|<!(--)?\[[\s\S]+?\](--)?>|<style(\s+[^>]*?)?>[\s\S]*?<\/style>/ig,""),a=a.replace(/\r?\n/ig,""),a=a.replace(/(<(\/?)([\w-:]+))((?:\s+[\w-:]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^>\s]+))?)*)\s*(\/?>)/g,
function(a,e,d,b,c,f){b=b.toLowerCase();if(b.match(/^(link|img)$/)&&c.match(/file:\/\//i)||b.match(/:/)||b==="span")return"";d||(c=c.replace(/\s([\w-:]+)(?:\s*=\s*("[^"]*"|'[^']*'|[^>\s]+))?/ig,function(a,d,e){d=d.toLowerCase();e.match(/^(["']?)(.*)\1/);if(d.match(/:/))return"";else if(d.match(/^(class|lang|language|span)$/))return"";else if(b==="td"&&(d==="height"||d==="width"&&!c.match(/\scolspan="\d+"/i)))return"";else if(d==="style")return"";return a}));return e+c+f}),e=0;e<3;e++)a=a.replace(/<([^\s>]+)(\s+[^>]*)?>\s*<\/\1>/g,
function(a,e){return e.match(/^a$/i)?a:""});return a}})})(jQEditor);(function(a){a.plugin("Help",{config:{position:"center",overlay:!0,width:400,height:220},init:function(a){var f=[];f.push('<div class="jqe-panel-tabs">');f.push('<a class="jqe-panel-tabs-selected jqe-panel-tabs-first">\u4f7f\u7528\u5e2e\u52a9</a><a>\u5feb\u6377\u952e</a>');f.push("</div>");f.push('<div class=""></div>');f.push('<div class=""></div>');a.cache.html=f.join("")}})})(jQEditor);
(function(a){var e=a.mod("Event"),f=a.mod("History");a.plugin("Redo,Undo",{click:function(e,j){var g=j.name;if(f)f[g]();else a.execCommand(g);return 1}});e.bind("oncreate",function(){var e=a.plugin("Undo"),f=a.plugin("Redo");e.disable();f.disable()})})(jQEditor);
(function(a){a=a.mod("Menu");a.add("mouseup",{title:"\u5de6\u952e\u83dc\u53551",check:function(){return!1},getHtml:function(){var a=[];a.push('<div class="jqe-menu-text">');a.push("\u6587\u672c\u5904\u7406\u83dc\u5355");a.push("</div>");return a.join("")}});a.add("click",{title:"\u5de6\u952e\u83dc\u53552",check:function(){return 0},getHtml:function(){return{a:"\u83dc\u53551",b:"\u83dc\u53552",c:"\u83dc\u53553"}}});a.add("contextmenu",{title:"\u4e00\u4e2a\u53f3\u952e\u83dc\u5355\uff0c\u6709\u9009\u4e2d\u5185\u5bb9\u65f6\u89e6\u53d1",
check:function(){return!1},getHtml:function(){var a={};return a={H1:1,H2:1,Link:1,BaikeLink:1,Format:{Bold:1,Italic:1,Underline:1,StrikeThrough:1,SubScript:1,SuperScript:1},"-a":1,BaikeSearch:1,Search:{BaiduSearch:1,GoogleSearch:1}}}})})(jQEditor,jQuery);
(function(a){function e(e){a.setEid(e.id);var f=a.get("document");a.get("iframe");var d=a.plugin("Resize"),b=0,c=f.createElement("DIV");c.style.clear="both";c.style.display="block";f.body.appendChild(c);b=Math.max(c.offsetTop+20,e.height);f.body.removeChild(c);d.setHeight(b,e.autoHeight||100)}var f=a.consts,h=a.mod("Event");a.plugin("Resize",{autoHeight:function(){var f=a.get("option");f.autoHeight&&e(f)},setHeight:function(e,g){var d=$("#"+a.eid).find("div.jqe-content"),g=typeof g==="number"?g:1;
if(f.IE6)d.height(e),d.children("iframe").height(e);else return d.height(e),!1;a.log("run","autoHeight = "+e+", speed="+g)}});h.bind("oncreate",function(){var f=a.get("option");f.autoHeight&&(setTimeout(function(a){return function(){e(a)}}(f),250),setTimeout(function(a){return function(){e(a)}}(f),500))});h.bind("load",function(){var f=a.get("option");f.autoHeight&&e(f)});h.bind("onmonitor",function(){var f=a.get("option");f.autoHeight&&e(f)});setInterval(function(){var f=a.get("option");f.autoHeight&&
e(f)},3E4)})(jQEditor);
(function(a){function e(){var b=$(document).scrollTop(),d=a.mod("Toolbar").getCurrent(),e=a.get("option"),f=$("#"+a.eid+" .jqe-content");f.height();f.offset();if(!d||!e.autoHeight)a.log("run","\u6ca1\u6709\u627e\u5230\u5de5\u5177\u680f\u6216\u672a\u8bbe\u7f6e\u6d6e\u52a8");else{if(h.IE6&&!b)b=document.documentElement.scrollTop;b+=e.toolbarTopOffset;if(e.toolbarTop&&b<e.toolbarTop)d.removeClass(e.fixedClassName),h.IE6&&d.css("top",0),a.log("run","\u5de5\u5177\u680f\u53d6\u6d88\u6d6e\u52a8"),g=!1,e.fixedCallback&&
e.fixedCallback(!1);else{g||(d.addClass(e.fixedClassName),e.fixedCallback&&e.fixedCallback(!0),a.log("run","\u5de5\u5177\u680f\u5f00\u59cb\u6d6e\u52a8"));if(h.IE6){for(var e=d.parents(),f=null,i=0;i<e.length;i++)if(f=e.eq(i),/(relative|absolute)/i.test(f.css("position"))){b-=f.offset().top;break}d.css("top",b)}g=!0}}}function f(){$(".jqe-panel:visible").each(function(b,d){var e=d.id.replace("panel_",""),f=a.plugin(e);if(f.config&&(!f.config.position||f.config.position!=="center"))d.style.display=
"none",a.log("run","\u81ea\u52a8\u9690\u85cf\u4e86"+e+"\u63d2\u4ef6")});$(".jqe-menu:visible").hide()}var h=a.consts,j=a.mod("Event"),g=!1,d=0,b=!1;a.plugin("FixedToolbar",{run:function(){e()}});j.bind("onscroll",function(){e();b||(f(),b=!0);clearTimeout(d);d=setTimeout(function(){b=!1},100)})})(jQEditor);
(function(a){a.mod("Event");var e=a.mod("Utils"),f=a.mod("Message");a.plugin("BaikeLink",{linkName:"baikelink",click:function(){var a="";(a=this.getSelectionText())?e.strlen(a)>80?f.showError("\u767e\u79d1\u94fe\u63a5\uff0c\u4e0d\u80fd\u9009\u62e9\u8d85\u8fc780\u4e2a\u5b57\u7b26\u7684\u957f\u5ea6\uff01"):/[`~!\\\/]/.test(a)?f.showError("\u767e\u79d1\u94fe\u63a5\uff0c\u4e0d\u80fd\u5305\u542b\u7279\u6b8a\u5b57\u7b26\u201c`~!/\u201d\uff01"):(a='<a href="index.php?doc-innerlink-'+encodeURIComponent(a)+
'" class="'+this.linkName+'" title="'+a+'" target="_blank">'+a+"</a>",this.pasteHTML(a)):f.showError("\u8bf7\u9009\u62e9\u9700\u8981\u8bbe\u7f6e\u4e3a\u767e\u79d1\u94fe\u63a5\u7684\u6587\u5b57\uff01");return 1}})})(jQEditor);
(function(a){function e(){var b=[],c=a.get("option");a.log("plugin.title titleMonitor");a.$("h2,h3").each(function(){var c=a.$(this),d=c.text();d&&(d=j.escape(d),c=/h2/i.test(c[0].tagName)?1:2,b.push({name:d,level:c,element:this}))});c.titleMonitor&&c.titleMonitor(b)}function f(b,c){var e="",e=c.getSelectionText(),f=c.getCursorElement();a.get("document");$.nodeName(f,b)?(f=$(f),e=$.trim(f.text())?f.html():"",f.replaceWith(e)):c.check(e)&&(f=e,e=(e=j.escape(e))||(h.IE?"":"<br>"),f.length>40?a.showError("\u6807\u9898\u6700\u591a40\u4e2a\u5b57\u7b26"):
(a.$("#jqe-tmp-title").removeAttr("id"),c.pasteHTML("<"+b+' id="jqe-tmp-title">'+e+"</"+b+">"),(e==""||e=="<br>")&&a.showNotice("\u8bf7\u5728\u65b0\u5efa\u7684\u6807\u9898\u5904\u8f93\u5165\u76ee\u5f55\u540d\u79f0",2E3),setTimeout(function(){var b=a.$("#jqe-tmp-title");d.selectNode(b[0],!1);b.removeAttr("id")},0)));return 1}var h=a.consts,j=a.mod("Utils"),g=a.mod("Event"),d=a.mod("Selection");g.bind("keyup",function(){a.$("h2,h3").each(function(){var b=a.$(this);b.text()||b.replaceWith("<p>&nbsp;</p>")})});
/chrome/i.test(navigator.userAgent)||setInterval(function(){a.mod("Event").freeze||e()},11E3);g.bind("onmonitor",e);g.bind("oncomplete",e);a.plugin("H1",{icon:{text:"","default":{H1:{XY:"none"}}},check:function(){return 1},click:function(){return f("h2",this)}});a.plugin("H2",{icon:{text:"","default":{H2:{XY:"none"}}},check:function(){return 1},click:function(){return f("h3",this)}});a.addFilter("hdwiki_tmml",{replace:function(b){if(typeof b!="object"||!b.body)return b;a.$(".hdwiki_tmml").each(function(){var a=
$(this),b=a.text();a.replaceWith("<h2>"+b+"</h2>")});a.$(".hdwiki_tmmll").each(function(){var a=$(this),b=a.text();a.replaceWith("<h3>"+b+"</h3>")})}})})(jQEditor);
(function(a,e){var f=a.mod("Menu"),h=a.mod("Event"),j=a.mod("Selection");f.add("mouseup",{title:"\u94fe\u63a5\u5feb\u6377\u83dc\u5355",check:function(a){var b=!1;a&&typeof a==="object"&&e.nodeName(a,"A")&&(b=!0);return b},getHtml:function(a){var b=[],a=e(a),c=a.text(),f=a.attr("href");b.push('<a name="ShortcutMenu" method="unlink" title="\u5c06\u94fe\u63a5\u8f6c\u4e3a\u7eaf\u6587\u672c">\u53d6\u6d88\u94fe\u63a5(Esc)</a>');f&&(a=/^http:\/\/www\.(hudong|baike)\.com\/wiki\//.test(f)&&(a.hasClass("baikelink")||
a.hasClass("innerlink"))?"http://www.baike.com/wiki/"+encodeURI(c):f,b.push('<a href="'+a+'" title="'+a+'" target="_blank" name="ShortcutMenu" method="openlink">\u6253\u5f00\u94fe\u63a5</a>'));return{className:"jqe-shortcut-menu",html:b.join(" ")}}});f.add("mouseup",{title:"\u76ee\u5f55\u5feb\u6377\u83dc\u5355",check:function(a){var b=!1;if(a&&typeof a==="object"&&(e.nodeName(a,"H2")||e.nodeName(a,"H3")))b=!0;return b},getHtml:function(){var a=[];a.push('<a name="ShortcutMenu" method="totext">\u53d6\u6d88\u76ee\u5f55(Esc)</a> <a name="ShortcutMenu" method="remove">\u5220\u9664\u76ee\u5f55</a>');
return{className:"jqe-shortcut-menu",html:a.join("")}}});a.plugin("ShortcutMenu",{isNeedPanel:0,config:{isAllowImageCenter:!0,isBaikeWiki:!1},click:function(a,b,c){var a=!1,e=h.getTarget(),f=c.attr("method");b[f]?a=b[f](e,c):alert("\u63d0\u793a\uff1a\u5feb\u6377\u83dc\u5355\u65b9\u6cd5\u540d\u79f0\u9519\u8bef\uff01");return a},totext:function(d){var b=e(d).text(),c=a.get("document");e(d,c).replaceWith(b);return!0},unlink:function(d){var b=e(d).html(),c=a.get("document");e(d,c).replaceWith(b);return!0},
remove:function(a){a.parentNode.removeChild(a);return!0},table:function(d,b){var c=b.attr("plugin");return a.plugin(c).click()},openlink:function(){return!0},removeRefer:function(a){a.parentNode.removeChild(a);return!0},editRefer:function(d,b){var c=a.plugin(b.attr("plugin"));c.editor_callback(d.getAttribute("name"),c);return!0}});f.add("mouseup",{title:"\u56fe\u7247\u5feb\u6377\u83dc\u5355",check:function(a){var b=!1;a&&typeof a==="object"&&e.nodeName(a,"IMG")&&(b=!0);return b},getHtml:function(d){var b=
[];/a\d\.att\.(hudong|baike)\.com/i.test(d.src)&&(b.push("<span>\u5c3a\u5bf8\uff1a"),a.plugin("ShortcutMenu").config.isBaikeWiki?b.push('<a name="ShortcutMenu-Image" method="resize" param="_s">\u5927</a>'):(b.push('<a name="ShortcutMenu-Image" method="resize" param="_950">\u5927</a>'),b.push('<a name="ShortcutMenu-Image" method="resize" param="_s">\u4e2d</a>')),b.push('<a name="ShortcutMenu-Image" method="resize" param="_140">\u5c0f</a>'),b.push("</span><br>"));b.push("<span>\u4f4d\u7f6e\uff1a");
b.push('<a name="ShortcutMenu-Image" method="align" param="left">\u5c45\u5de6</a>');a.plugin("ShortcutMenu").config.isAllowImageCenter&&b.push('<a name="ShortcutMenu-Image" method="align" param="center">\u5c45\u4e2d</a>');b.push('<a name="ShortcutMenu-Image" method="align" param="right">\u5c45\u53f3</a>');b.push("</span>");b.push("<br />");b.push('<span><a name="ShortcutMenu-Image" method="desc">\u6dfb\u52a0\u63cf\u8ff0</a></span>|');a.plugin("ShortcutMenu-Image").movingimg?b.push('<span><a name="ShortcutMenu-Image" method="endmove">\u53d6\u6d88\u79fb\u52a8</a></span>|'):
b.push('<span><a name="ShortcutMenu-Image" method="startmove">\u79fb\u52a8\u56fe\u7247</a></span>|');b.push('<span><a name="ShortcutMenu-Image" method="change">\u66f4\u6362\u56fe\u7247</a></span>|');b.push('<span><a name="ShortcutMenu-Image" method="remove">\u5220\u9664</a></span>');return{className:"jqe-shortcut-menu",html:b.join("")}},callback:function(a){var b=h.getTarget(),c=e(b).closest("div.img"),f=null,g={left:"img_l",center:"img_c",right:"img_r"},j=["_950","_s","_140"],i={color:"#333333",
cursor:"default","text-decoration":"none"};if(c.length&&c.attr("class").indexOf("img")>-1){var p=c.attr("class"),l;for(l in g){var m=g[l];if(p.indexOf(m)>-1){f=l;break}}f&&a.find("[param="+f+"]").css(i).removeAttr("method").removeAttr("name");m=c.find("strong");m.length>0&&e.trim(m.text())&&(m=a.find("[method=desc]"),m.css(i).removeAttr("method").removeAttr("name"))}if(/a\d\.att\.(hudong|baike)\.com/i.test(b.src)){b=b.src;for(c=0;c<j.length;c++)if(m=j[c],b.indexOf(m)>-1){a.find("[param="+m+"]").css(i).removeAttr("method").removeAttr("name");
break}}}});a.plugin("ShortcutMenu-Image",{style:".ShortcutMenu-Image-selected{color:#333333;cursor:default;font-weight:bold;text-decoration:none;}",click:function(a,b,c){var a=h.getTarget(),e=c.attr("method"),f=c.attr("param"),g=!1;e&&(b[e]?g=b[e](a,f,c):alert("\u63d0\u793a\uff1a\u5feb\u6377\u83dc\u5355\u65b9\u6cd5\u540d\u79f0\u9519\u8bef\uff01"));return g},resize:function(a,b){g.update_img(a,b,"resize");return!0},align:function(a,b){g.update_img(a,b,"align");return!0},desc:function(a){var b=e(a).closest("div.img"),
c="";b.length&&(c=b.attr("class"),c.indexOf("img_l")>-1?c="left":c.indexOf("img_c")>-1?c="center":c.indexOf("img_r")>-1&&(c="right"));g.update_img(a,c,"desc");return!0},remove:function(a){if(confirm("\u786e\u5b9a\u5220\u9664\u8be5\u56fe\u7247\uff1f"))return a=e(a),a.closest("div.img").length?a=a.closest("div.img"):a.closest("a").length&&(a=a.closest("a")),a.remove(),!0},movingimg:null,startmove:function(d){this.movingimg=d;a.mod("Message").showNotice("\u5de6\u952e\u653e\u7f6e\u6216\u53f3\u952e\u53d6\u6d88",
2E3);return!0},move:function(d){var b=j.getElementByCursor(),c=a.$(b);if(/^(body|h2|h3|a|sup|div)$/i.test(b.tagName))return a.mod("Message").showNotice("\u56fe\u7247\u4e0d\u652f\u6301\u79fb\u52a8\u5230\u5f53\u524d\u4f4d\u7f6e",2E3),!0;var b=c.closest("p"),c=c.closest("td"),e=a.$(d).closest("div.img");e.size()||(e=a.$(d));b.size()&&e.size()?(b.before(e),this.endmove()):c.size()&&e.size()?(c.append(e),this.endmove()):a.mod("Message").showNotice("\u56fe\u7247\u4e0d\u652f\u6301\u79fb\u52a8\u5230\u5f53\u524d\u4f4d\u7f6e",
2E3)},endmove:function(){this.movingimg=null;return!0},change:function(d){setTimeout(function(){var b=a.plugin("HdImage");b.enable();var c=a.$(d).closest("div.img");b.replaceimg=c.size()?c:a.$(d);a.mod("Toolbar").get().find(".HdImage a").click()},0);return!0},changeTempletImg:function(d){setTimeout(function(){var b=a.plugin("HdImage");b.enable();var c=a.$(d).closest("div.img");b.replaceimg=c.size()?c:a.$(d);b.click(a.mod("Panel"),b)},0);return!0}});h.bind("click",function(){var d=a.plugin("ShortcutMenu-Image");
if(d.movingimg)return d.move(d.movingimg),!1});h.bind("contextmenu",function(){var d=a.plugin("ShortcutMenu-Image");if(d.movingimg)return a.mod("Message").showNotice("\u5df2\u7ec8\u6b62\u56fe\u7247\u79fb\u52a8\u64cd\u4f5c",2E3),d.endmove(),!1});var g={update_img:function(d,b,c){function f(d){h.attr("src");var e=j[b]?j[b]:"img_c";typeof d=="number"&&(i=d);if(i>g)i=g,h.width=i;h.closest("a").length&&(h=h.closest("a"));d=h.closest("div.img");d.length?c=="resize"?d.width(i).find("img").width(i):d.removeClass("img_l img_c img_r").addClass(e):
(d=a.$('<div class="img '+e+'" style="width:'+i+'px"></div>').append(h.clone()),h.replaceWith(d));c=="desc"?(l=h.attr("title")?h.attr("title"):h.attr("alt")?h.attr("alt"):"\u56fe\u7247\u63cf\u8ff0",d.find("strong").length?d.find("strong").text(l):d.append("<strong>"+l+"</strong>")):d.find("strong").removeAttr("style")}var g=600,h=e(d),i=h.width(),j={left:"img_l",center:"img_c",right:"img_r"},l="",d="";if(c=="resize"&&/a\d\.att\.(hudong|baike)\.com/i.test(h.attr("src"))){d=h.attr("src").replace(/_140|_s|_950/i,
b);h.attr("src",d);var m=new Image;m.onload=function(){h.attr("width",m.width);f(m.width)};m.src=d}else f()}}})(jQEditor,jQuery);
(function(a){function e(c){for(var d=c.childNodes,h=0;h<d.length;h++){var n=d[h];if(1==n.nodeType){var i=n.tagName.toLowerCase();if(g[i]){for(var p=f.IE?b:j.clone(n.attributes),l=g[i],m="",r,m=0,q=p.length;m<q;m++)r=f.IE?p[m]:p[m].name.toLowerCase(),$.inArray(r,l)==-1&&(n.removeAttribute(r),a.log("run","\u6e05\u7406\u6807\u7b7e"+n.tagName+"\u7684\u5c5e\u6027"+r),n.getAttribute(r));if(m=f.IE?n.style.cssText:n.getAttribute("style")){m=m.replace(/; /g,";").toLowerCase();r=m.split(";");for(var t=[],m=
0,q=r.length;m<q;m++)p=r[m].split(":")[0],$.inArray("."+p,l)>-1&&t.push(r[m]);(m=$.trim(t.join(";")))?f.IE?n.style.cssText=m:n.setAttribute("style",m):n.removeAttribute("style")}l=$(n);i==="table"?(i=l,l=i.attr("bordercolor"),i.hasClass("jqe-table")||i.addClass("jqe-table"),l||i.attr("bordercolor","#cccccc"),i.attr("border",1)):i==="a"?(i=$.trim(l.attr("href"))||"",/^javascript:/i.test(i)&&l.replaceWith(l.html())):i==="img"&&(i=$.trim(l.attr("src"))||"",(/^javascript:/i.test(i)||/^file:/i.test(i))&&
l.remove());n.hasChildNodes()&&e(n)}else{if(n.hasChildNodes())for(m=0;m<n.childNodes.length;m++)e(n.childNodes[m]),n.parentNode.insertBefore(n.childNodes[m].cloneNode(!0),n);n.parentNode.removeChild(n)}}}return c.innerHTML}var f=a.consts,h=[],j=a.mod("Utils"),g,d={font:["size","color","face"],span:["class","style",".font-weight",".font-style",".text-decoration"],div:["class","id","style",".width",".text-align"],a:"class,href,target,title,alt,name".split(","),img:"class,id,src,alt,title,align,usemap,border,name,width,/".split(","),
hr:["/"],br:["/"],p:["class","align","style",".text-align"],table:"class,style,width,.width,align,border,bordercolor,cellpadding,.margin,.margin-left,.margin-right".split(","),tbody:[],tr:[],th:"class,align,valign,colspan,rowspan,width".split(","),td:"class,align,valign,colspan,rowspan,width".split(","),ol:["class"],ul:["class"],li:["class"],sub:["class"],sup:["class","name"],blockquote:["style",".margin",".padding"],h2:[],h3:[],h4:[],h5:[],h6:[],em:[],strong:["style",".width"],b:[],i:[],u:[],strike:[],
object:"classid,class,id,width,height,codebase".split(","),embed:"style,src,type,loop,autostart,quality,.width,.height,flename,width,height,volume,pluginspage,console,controls,/".split(","),param:["name","value"],map:["id","name"],area:["shape","coords","href","title","/"]},b="onerror,onclick,onmouseout,onmouseover,onmousemove,align,color,font,height,vspace,hspace,id,class,style,left,right,name,rel,size,title,width,valign,bgcolor,dir".split(",");a.plugin("Cleanup",{click:function(b){var d=a.get("option"),
e=a.get("document");$.inArray("Cleanup",d.disabled)===-1&&this.exec(e.body,b)},exec:function(b,f){if(typeof b==="object"){var j=a.mod("Message"),n=a.get("option");g=n.allowTags&&typeof n.allowTags==="object"?$.extend({},d,n.allowTags):d;j.showNotice("\u6b63\u5728\u8fdb\u884c\u6e90\u7801\u6e05\u7406\uff0c\u8bf7\u7a0d\u7b49......",2E4);e(b);typeof f==="function"&&f();clearTimeout(h[a.eid]);h[a.eid]=setTimeout(function(){j.change("\u6b63\u5728\u8fdb\u884c\u6e90\u7801\u6e05\u7406\uff0c\u8bf7\u7a0d\u7b49......\u5b8c\u6210\uff01");
clearTimeout(h[a.eid]);h[a.eid]=setTimeout(function(){j.hide()},500)},100);return!0}},cleanup:function(b){var f=a.get("option"),h=a.get("document"),f=a.get("option");g=f.allowTags&&typeof f.allowTags==="object"?$.extend({},d,f.allowTags):d;e(h.body);typeof b==="function"&&b()}})})(jQEditor);
(function(a){var e={12:3,14:4,18:5,24:6,36:7};a.plugin("FontSize",{menuTitle:"\u5b57\u53f7",isNeedTitle:0,icon:{width:40,text:"\u5b57\u53f7"},config:{width:160,HEIGHT:160},selectedSize:{},init:function(a){var h=[],j;for(j in e)lineHeight=j>22?j:22,h.push('<a href="jqe:FontSize('+j+')" style="font-size:'+j+"px;line-height:"+lineHeight+'px" size="'+e[j]+'">'+j+"px</a>");a.cache.html='<div class="jqe-plugin-fontsize">'+h.join("")+"</div>"},set:function(e,h){var j=h.selectedSize[a.eid];j||(j=4);h.setFontSize(j);
h.hide();return 1},menu:function(a,e){a.set(e);return 1},action:function(e,h,j){var h=a.eid,g=j.name,d=e.closest("[size]").attr("size"),e=e.text();d&&(a.log("run","FontSize="+d),j.selectedSize[h]=d,j.setFontSize(d),j.hide(),$("#"+h+"-"+g).find("span.jqe-icon").text(e));return!1},setFontSize:function(e){a.execCommand(this.name,!1,e)}})})(jQEditor);
(function(a){var e=[{name:"\u5b8b\u4f53",value:"SimSun"},{name:"\u4eff\u5b8b\u4f53",value:"FangSong_GB2312"},{name:"\u5fae\u8f6f\u96c5\u9ed1",value:"Microsoft YaHei"},{name:"\u9ed1\u4f53",value:"SimHei"},{name:"\u6977\u4f53",value:"KaiTi_GB2312"},"Courier New","Times New Roman","Impact","Georgia","Arial","Verdana","Tahoma"];a.plugin("FontName",{isNeedTitle:0,icon:{text:"\u5b57 \u4f53"},config:{width:180,HEIGHT:340},selectedFont:{},init:function(a){for(var h=[],j,g,d,b=0,c=e.length;b<c;b++){j=typeof e[b];
if(j==="string")g=e[b],d=e[b];else if(j==="object")g=e[b].value,d=e[b].name;h.push('<a href="jqe:FontName('+d+')" style="font-family: '+g+';line-height:22px" font="'+g+'">'+d+"</a>")}a.cache.html='<div class="jqe-plugin-fontname">'+h.join("")+"</div>"},set:function(e,h){h.setFontName(h.selectedFont[a.eid]||"SimSun");h.hide();return 1},menu:function(a,e){a.set(e);return 1},action:function(e,h,j){var h=a.eid,g=j.name,d=e.closest("[font]").attr("font"),e=e.closest("[font]").text();d&&(j.selectedFont[h]=
d,j.setFontName(d),j.hide(),$("#"+h+"-"+g).find("span.jqe-icon").text(e).css("font-family",d));return!1},setFontName:function(e){a.execCommand(this.name,!1,e)}})})(jQEditor);
(function(a){var e=a.mod("Menu");a.plugin("Bold",{menuType:"Menu",menuTitle:"\u683c\u5f0f",menu:function(a,h){e.set(h.event,h.name);return 1}});e.add("Bold",{title:"\u6587\u672c\u683c\u5f0f\u4e0b\u62c9\u83dc\u5355",check:function(){return!0},getHtml:function(){return{Bold:1,Italic:1,Underline:1,SubScript:1,SuperScript:1}}})})(jQEditor,jQuery);
(function(a,e){a.plugin("Video",{config:{width:450,position:"center",overlay:!0},settings:{flash_mod:'<embed src="[url]" quality="high" width="[width]" height="[height]" align="middle" allowScriptAccess="always" allowFullScreen="true" mode="transparent" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="transparent" ></embed>',url_max_len:500,url_name:"url_name",width_name:"width_name",height_name:"height_name",url_tips:"\u6587\u4ef6\u7f51\u7edc\u5730\u5740\uff1a",
tips:"\u652f\u6301.swf\u6587\u4ef6\u683c\u5f0f",size_tips:"\u6587\u4ef6\u663e\u793a\u5927\u5c0f\uff1a",width_tips:"\u5bbd\u5ea6",height_tips:"\u9ad8\u5ea6",default_url:"http://",default_width:480,default_height:400,max_wid_len:3,max_hei_len:3},init:function(){var a=this.settings;e.extend(!0,a,this._settings);this.cache.html='<table border="0" width="100%">\t\t\t<tr><td colspan="2"><strong>'+a.url_tips+'</strong></td></tr>\t\t\t<tr><td colspan="2"><input type="text" name="'+a.url_name+'" maxlength="'+
a.url_max_len+'" value="'+a.default_url+'" style="width:326px;"></td></tr>\t\t\t<tr><td colspan="2" style="color:#999999;">'+a.tips+'</td></tr>\t\t\t<tr><td colspan="2"><hr></td></tr>\t\t\t<tr><td colspan="2"><strong>'+a.size_tips+'</strong></td></tr>\t\t\t<tr class="input_tr"><td>'+a.width_tips+' <input type="text" name="'+a.width_name+'" value="'+a.default_width+'" maxlength="'+a.max_wid_len+'" style="width:80px;"></td>\t\t\t<td>'+a.height_tips+' <input type="text" name="'+a.height_name+'" value="'+
a.default_height+'" maxlength="'+a.max_hei_len+'" style="width:80px;"></td></tr>\t\t\t</table>'},one:function(a,j){e.extend(!0,f,j._check_data)},check:function(a,e){var g=e.settings,d=e.getValues(),b=d[g.width_name],c=d[g.height_name];return(g=f.url(d[g.url_name])||f.width(b)||f.height(c))?(e.error(g),!1):!0},get:function(a,e){var f=e.settings,d=e.getValues(),b=d[f.url_name],c=d[f.height_name];return f.flash_mod.replace("[width]",d[f.width_name]).replace("[height]",c).replace("[url]",b)},onclose:function(){},
_check_data:{},_settings:{}});var f={settings:{min_width:200,min_height:200,url_tips:"\u8bf7\u8f93\u5165\u4e00\u4e2a\u6709\u6548\u7684\u89c6\u9891\u6587\u4ef6\u5730\u5740\uff01",url_tips1:"\u60a8\u8f93\u5165\u4e86\u8fdd\u7981\u8bcd\u6216\u8005\u975e\u6cd5\u5185\u5bb9\uff0c\u8bf7\u4fee\u6539\u540e\u53d1\u5e03\uff01",wid_tips:"\u5bbd\u5ea6\u5fc5\u987b\u662f\u4e00\u4e2a\u5927\u4e8e 200 \u7684\u6574\u6570\u3002",hei_tips:"\u9ad8\u5ea6\u5fc5\u987b\u662f\u4e00\u4e2a\u5927\u4e8e 200 \u7684\u6574\u6570\u3002"},
url:function(e){var f=this.settings,g=a.get("option").video_whiteList,d=null;if(!e||e.length<1)return f.url_tips;if(!/https?:[^?]+?\.(swf)(\?)?/.test(e)||e.replace(".swf","").length==0)return f.url_tips;if(g instanceof Array)if(g=g.join("|").toUpperCase().replace(/http:\/\//ig,"").replace(/\./g,"\\."),d=RegExp("\\.("+g+")$","i"),(e=e.replace("http://","").replace(/(\?|#)/g,"/").split("/"))&&e.length>0){if(e[0]=e[0].charAt(0)==="."?e[0]:"."+e[0],!d.test(e[0]))return f.url_tips1}else return f.url_tips1;
return null},width:function(a){var e=this.settings;return/^[2-9]\d{2}$/.test(a)?null:e.wid_tips},height:function(a){var e=this.settings;return/^[2-9]\d{2}$/.test(a)?null:e.hei_tips}}})(jQEditor,jQuery);
(function(a){var e=["\u00b1,\u00d7,\u00f7,\u2236,\u2211,\u220f,\u222a,\u2229,\u2208,\u2237".split(","),"\u221a,\u22a5,\u2225,\u2220,\u2312,\u222b,\u222e,\u2261,\u224c,\u2248".split(","),"\u221d,\u2260,\u226e,\u226f,\u2264,\u2265,\u221e,\u2235,\u2234,\u33d1".split(","),["\u33d2"],"\uff04,\uffe0,\uffe1,\u33ce,\u338e,\u338f,\u339c,\u339d,\u339e,\u33a1".split(","),["\u33c4","\u33d5","\u2116"],"\u0101,\u00e1,\u01ce,\u00e0,\u0113,\u00e9,\u011b,\u00e8,\u012b,\u00ed".split(","),"\u01d0,\u00ec,\u014d,\u00f3,\u01d2,\u00f2,\u016b,\u00fa,\u01d4,\u00f9".split(","),
["\u01d6","\u01d8","\u01da","\u01dc","\u00fc"]];a.plugin("SpecialChar",{isNeedTitle:0,config:{width:280},init:function(){for(var a='<ul class="jqe-plugin-SpecialChar"><table>',h=0;h<e.length;h++){var j=e[h];a+="<tr>";for(var g=0;g<j.length;g++)a+='<td><a href="javascript:void(0)" class="special_num">'+j[g]+"</a></td>";a+="</tr>"}a+="</table></ul>";this.cache.html=a},action:function(a,e,j){a=a.closest(".jqe-plugin-SpecialChar td");a.length&&(j.pasteHTML(a.text()),j.hide());return!1}})})(jQEditor,jQuery);
(function(a){a.plugin("Code",{inserthtml:"custom",config:{width:600,position:"center",overlay:!0},langs:{html:"HTML/XML",js:"Javascript",css:"CSS",php:"PHP",java:"Java",py:"Python",pl:"Perl",rb:"Ruby",cs:"C#",c:"C++/C",vb:"VB/ASP"},init:function(){var a='<select name="code_language" style="margin:2px 0;">';for(index in this.langs)a+='<option value="'+index+'">'+this.langs[index]+"</option>";a+='<option value="">\u5176\u4ed6</option>';a+="</select>";this.cache.html=a+'<textarea value="" name="content" style="width:99%;height:260px"></textarea>'},
check:function(a,f){var h=a.find("[name=content]").val();return!h||h.length<1?(f.error("\u4ee3\u7801\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a!"),!1):!0},get:function(e){var f=a.mod("Utils"),h=e.find("select[name=code_language]").val(),e=e.find("[name=content]").val(),e=f.escape(e);return'\n<pre class="prettyprint lang-'+h+'">'+e+"</pre>\n"}})})(jQEditor);
(function(a,e){var f=a.mod("Event"),h=a.mod("Selection"),j=a.mod("Panel");f.bind("keydown",function(g,d){var b=d.keyCode||d.which||d.charCode,c=""+h.getText();if(!d.ctrlKey&&!d.altKey&&!(d.shiftKey||b!==27))return c?a.plugin("BaikeLink").click():(b=f.getTarget(),/^(h\d|a|b|i|u|sup|sub|font)$/i.test(b.nodeName)?(e(b).replaceWith(b.innerHTML),a.monitor("esc")):j.hide()),!1});e(document).keydown(function(a){var d=a.keyCode||a.which||a.charCode;!a.ctrlKey&&!a.altKey&&!a.shiftKey&&d===27&&j.hide()})})(jQEditor,
jQuery);
(function(a){function e(){var b,c=a.plugin(h).config;a.$("img").each(function(d,e){e.removeAttribute("height");e.removeAttribute("style");b=a.$(e).closest("div.img");e.width>c.max_width&&e.setAttribute("width",c.max_width);b.size()&&(e.width&&e.width>80&&(b.width(e.width),b.css("height","")),b.find("strong").css("width",""))})}var f=a.consts,h="HdImage",j=a.mod("Event"),g=a.mod("Utils"),d=typeof jqe_static_url==="string"?jqe_static_url:"./";j.bind("oncomplete",function(){setTimeout(function(){e()},500);
setTimeout(function(){e()},1E4)});a.plugin(h,{replaceimg:null,inserthtml:"custom",config:{width:350,max_width:600,position:"center",overlay:!0},settings:{moreSize:!0,maxUploadSize:"5M",moreAlign:!0,selectedClass:"selectedClass",img_src_action:"baike_article_create.php",discription_can_null:!1,getFileAction:function(){return alert("\u6ca1\u6709\u63d0\u4f9b\u53ef\u8c03\u7528\u7684\u4e0a\u4f20\u63a5\u53e3")},getUrlAction:function(){return alert("\u6ca1\u6709\u63d0\u4f9b\u53ef\u8c03\u7528\u7684\u4e0a\u4f20\u63a5\u53e3")}},
staticAttr:{inputFileName:"photofile",inputUrlName:"img_url",uploadFileBtn:"uploadFileBtn",urlFileBtn:"urlFileBtn",uploadShowName:"uploadShowName",urlShowName:"urlShowName",imgSizeName:"picWidthHeight",imgAlignName:"picAlign",imgDiscription:"picAlt",uploadButton:"uploadButton",uploadIsBusy:!1},style:'.jqe-plugin-HdImage{width:90%;margin:0 auto;}\t\t\t.jqe-plugin-HdImage .input_tr{height:26px;}\t\t\t.jqe-plugin-HdImage .first_span{left:15px;}\t\t\t.jqe-plugin-HdImage .last_span{left:110px;}\t\t\t.jqe-plugin-HdImage .uploadBoxTop{position:relative;border-bottom:1px solid #009AD9;height:29px;margin:0 0 3px;padding:0;}\t\t\t.jqe-plugin-HdImage .uploadBoxTop span{position:absolute;top:0px;color:#666666;cursor:pointer;display:inline-block;line-height:25px;text-align:center;width:80px;border-left: 1px solid #FFFFFF;border-right: 1px solid #FFFFFF;border-top: 4px solid #FFFFFF;}\t\t\t.jqe-plugin-HdImage .uploadBoxTop span.selectedClass{background-color:#FFFFFF;cursor:default;border-left: 1px solid #009AD9;border-right: 1px solid #009AD9;border-top: 4px solid #009AD9;border-bottom:2px solid #FFFFFF;color:#333333;}\t\t\t.jqe-plugin-HdImage input,textarea{color:#111111;font-family:"lucida grande",taho,verdana,"trebuchet ms",sans-serif;font-size:12px;}\t\t\t.jqe-plugin-HdImage .inputFile{height:22px;width:260px;border:1px solid #7F9DB9;}\t\t\t.jqe-plugin-HdImage .inputUrl{height:18px;line-height:18px;width:260px;border:1px solid #7F9DB9;}\t\t\t.jqe-plugin-HdImage .tips{color:#999999;line-height:22px;text-align:left;wodr-wrap:break-word;}\t\t\t.jqe-plugin-HdImage .bgImg{height:61px;background:url("'+
d+'/skins/bg/uploadimg_bg.gif") no-repeat scroll 0 0 transparent;margin:0 0 5px 10px;border:1px solid #999999;}\t\t\t.jqe-plugin-HdImage .bgImg1{background-position:0 0px;width:70px;}\t\t\t.jqe-plugin-HdImage .bgImg2{background-position:-72px -0px;width:68px;}\t\t\t.jqe-plugin-HdImage .bgImg3{background-position:-142px 0;width:69px;}\t\t\t.jqe-plugin-HdImage .alignImg{background:url("'+d+'/skins/bg/uploadimg_bg.gif") no-repeat scroll 0 0 transparent;margin:0 0 5px 10px;height:46px;border:1px solid #999999;}\t\t\t.jqe-plugin-HdImage .alignImg1{background-position:0 -69px;width:70px}\t\t\t.jqe-plugin-HdImage .alignImg2{background-position:-71px -69px;width:68px;}\t\t\t.jqe-plugin-HdImage .alignImg3{background-position:-142px -69px;width:69px;}\t\t\t.jqe-plugin-HdImage strong{line-height:22px;}',
init:function(){var a=this.staticAttr,c=this.settings,d=c.moreAlign,e=c.discription_can_null,f='<table class="jqe-plugin-HdImage"><tr><td colspan="3"><div class="uploadBoxTop"><span name="'+a.uploadFileBtn+'" class="'+c.selectedClass+' first_span">\u4e0a\u4f20\u56fe\u7247</span><span class="last_span" name="'+a.urlFileBtn+'">\u6dfb\u52a0url</span></div></td></tr><tr name="'+a.uploadShowName+'" class="input_tr"><td colspan="3"><input class="inputFile" type="file" name="'+a.inputFileName+'" size="35"><input type="hidden" value="'+
c.img_src_action+'" name="img_src_action"></td></tr><tr name="'+a.uploadShowName+'" class="input_tr"><td colspan="3"><label class="tips">\u56fe\u7247\u683c\u5f0f\uff1ajpg\u3001jpeg\u3001png\u3001gif\uff0c\u5927\u5c0f\u4e3a'+c.maxUploadSize+'\u4ee5\u5185</label></td></tr><tr name="'+a.urlShowName+'" style="display:none;" class="input_tr"><td colspan="3"><input type="text" class="inputUrl" name="'+a.inputUrlName+'"></td></tr><tr name="'+a.urlShowName+'" style="display:none;" class="input_tr"><td colspan="3"><label class="tips">\u6ce8:\u8bf7\u8f93\u5165\u4ee5jpg\u3001jpeg\u3001png\u3001gif\u7ed3\u675f\u7684url</label></td></tr><tr><td height="30"><strong>\u56fe\u7247\u5927\u5c0f\uff1a</strong></td><td></td><td></td></tr>';
f+=c.moreSize?'<tr><td><label><div class="bgImg bgImg1"></div><input type="radio" imgsize="_950" value="1" name="'+a.imgSizeName+'" checked="true">\u5927(\u957f\u8fb9'+this.config.max_width+')</label></td><td><label><div class="bgImg bgImg2"></div><input type="radio" imgsize="_s" value="1" name="'+a.imgSizeName+'">\u4e2d(\u957f\u8fb9300)</label></td><td><label><div class="bgImg bgImg3"></div><input type="radio" imgsize="_140" value="2" name="'+a.imgSizeName+'">\u5c0f(\u957f\u8fb9140)</label></td></tr>':
'<tr><td colspan="3"><table width="100%;"><tr><td style="text-align:left;"><label><div class="bgImg bgImg1"></div><input type="radio" imgsize="_s" value="1" name="'+a.imgSizeName+'" checked="true">\u5927(\u957f\u8fb9300px)</label></td><td style="text-align:left;"><label><div class="bgImg bgImg3"></div><input type="radio" imgsize="_140" value="2" name="'+a.imgSizeName+'">\u5c0f(\u957f\u8fb9140px)</label></td></tr></table></td></tr>';f+='<tr><td height="30"><strong>\u5bf9\u9f50\u65b9\u5f0f\uff1a</strong></td><td></td><td></td></tr>';
f+=d?'<tr><td><label><div class="alignImg alignImg1"></div><input type="radio" value="left" name="'+a.imgAlignName+'">\u56fe\u7247\u5c45\u5de6</label></td><td><label><div class="alignImg alignImg2"></div><input type="radio" value="center" name="'+a.imgAlignName+'" checked="true">\u56fe\u7247\u5c45\u4e2d</label></td><td><label><div class="alignImg alignImg3"></div><input type="radio" value="right" name="'+a.imgAlignName+'">\u56fe\u7247\u5c45\u53f3</label></td></tr>':'<tr><td colspan="3"><table width="100%"><tr><td style="text-align:left;"><label><div class="alignImg alignImg1"></div><input type="radio" value="left" name="'+
a.imgAlignName+'" >\u56fe\u7247\u5c45\u5de6</label></td><td style="text-align:left;"><label><div class="alignImg alignImg3"></div><input type="radio" value="right" name="'+a.imgAlignName+'" checked="true">\u56fe\u7247\u5c45\u53f3</label></td></tr></table></td></tr>';f+='<tr><td colspan="3" height="30"><strong>\u56fe\u7247\u63cf\u8ff0';e||(f+='[<font color="red">\u5fc5\u586b</font>]');f+='\uff1a</strong></td><td></td><td></td></tr><tr><td colspan="3"><textarea style="width:95%;height:30px;" maxlength="100" name="'+
a.imgDiscription+'"></textarea></td></tr></table>';this.cache.html=f},action:function(a,c,d){var e=a.attr("name");if(typeof d[e]===f.typeof_function)return d[e](a,c,d)},callback:function(b,c){var d=c.staticAttr;b.on?(b.on("click",".alignImage",function(){var a=$(this).attr("value"),c=b.find(".alignImage").index(this);b.find(".alignImage").removeClass("bgpicboxOn").eq(c).addClass("bgpicboxOn");b.find("[name="+d.imgAlignName+"]").val(a)}),b.on("click",".imgsize",function(){var a=$(this),c=a.attr("Imgsize"),
a=a.attr("value"),e=b.find(".imgsize").index(this);b.find(".imgsize").removeClass("bgpicboxOn").eq(e).addClass("bgpicboxOn");b.find("[name="+d.imgSizeName+"]").attr("imgsize",c).val(a)}),b.on("focus","input[name=title],input[name=site],input[name=url],.desc",function(){$(this).addClass("cdgray");$.inArray($(this).attr("name"),["url","title"])>-1&&$(this).val()==$(this).attr("defaultvalue")&&$(this).val("")}).on("blur","input[name=title],input[name=site],input[name=url],.desc",function(){$(this).removeClass("cdgray");
($(this).attr("name")=="url"||$(this).attr("name")=="title")&&$.trim($(this).val())==""&&$(this).val($(this).attr("defaultvalue"))})):(b.find(".alignImage").live("click",function(){var a=$(this).attr("value"),c=b.find(".alignImage").index(this);b.find(".alignImage").removeClass("bgpicboxOn").eq(c).addClass("bgpicboxOn");b.find("[name="+d.imgAlignName+"]").val(a)}),b.find(".imgsize").live("click",function(){var a=$(this),c=a.attr("Imgsize"),a=a.attr("value"),e=b.find(".imgsize").index(this);b.find(".imgsize").removeClass("bgpicboxOn").eq(e).addClass("bgpicboxOn");
b.find("[name="+d.imgSizeName+"]").attr("imgsize",c).val(a)}),b.find("input[name=title],input[name=site],input[name=url],.desc").live("focus",function(){$(this).addClass("cdgray");$.inArray($(this).attr("name"),["url","title"])>-1&&$(this).val()==$(this).attr("defaultvalue")&&$(this).val("")}).live("blur",function(){$(this).removeClass("cdgray");($(this).attr("name")=="url"||$(this).attr("name")=="title")&&$.trim($(this).val())==""&&$(this).val($(this).attr("defaultvalue"))}));b.find(":submit").replaceWith("<input type='button' value=' \u63d0 \u4ea4 ' name='"+
d.uploadButton+"'>");b.find(".desc").focus();if(c.replaceimg){var e=a.$(c.replaceimg),f="",g=e.closest("div.img"),h="",j="";e.is("div")?f=e.find("img").attr("src"):e.is("img")&&(f=e.attr("src"));e.hasClass("templet")?(h="center",j="_s"):(g.size()&&(g.hasClass("img_l")?h="left":g.hasClass("img_c")?h="center":g.hasClass("img_r")&&(h="right")),f.indexOf("_140")>0?j="_140":f.indexOf("_s")>0&&(j="_s"));h&&b.find('.alignImage[value="'+h+'"]').click();j&&b.find('.imgsize[imgsize="'+j+'"]').click()}},uploadFileBtn:function(a,
c,d){var e=d.staticAttr,d=d.settings;c.find("[name="+e.uploadShowName+"]").show();c.find("[name="+e.urlShowName+"]").hide();c.find("[name="+e.urlFileBtn+"]").removeClass(d.selectedClass);a.addClass(d.selectedClass);return!1},urlFileBtn:function(a,c,d){var e=d.staticAttr,d=d.settings;c.find("[name="+e.uploadShowName+"]").hide();c.find("[name="+e.urlShowName+"]").show();c.find("[name="+e.uploadFileBtn+"]").removeClass(d.selectedClass);a.addClass(d.selectedClass);return!1},ok:function(){},onclose:function(){this.staticAttr.uploadIsBusy=
!1;this.replaceimg=null},uploadButton:function(a,c,d){var e=d.staticAttr,f=d.settings,a=f.discription_can_null,g=c.find("[name="+e.inputFileName+"]"),h=$.trim(c.find("[name="+e.inputUrlName+"]").val()),j=$.trim(c.find("[name="+e.imgDiscription+"]").val()),m=/^(http\:\/\/)[\w.\/-]+\.(jpg|jpeg|gif|png)/i;if((c=c.find("[name="+e.uploadFileBtn+"]").attr("class").indexOf(f.selectedClass)>-1)&&!d._checkFile(g))return d.error("\u63d0\u793a\uff1a\u8bf7\u9009\u62e9\u4e00\u4e2a\u6709\u6548\u7684\u56fe\u7247\u6587\u4ef6\uff01"),
!1;else if(!c)if(h.length<1)return d.error("url\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"),!1;else if(!m.test(h))return d.error("url\u5730\u5740\u683c\u5f0f\u6709\u8bef!"),!1;if(j.length<1&&!a)return d.error("\u8bf7\u586b\u5199\u56fe\u7247\u63cf\u8ff0\uff0c\u826f\u597d\u7684\u63cf\u8ff0\u53ef\u4ee5\u5e2e\u52a9\u8bfb\u8005\u7406\u89e3\u56fe\u7247\uff01"),!1;else if(j.length>500)return d.error("\u8fc7\u591a\u7684\u56fe\u7247\u63cf\u8ff0\u53ef\u80fd\u4f1a\u5f71\u54cd\u9875\u9762\u5e03\u5c40\uff01"),!1;d._uploadFile();
d.lock();setTimeout(function(){d.unlock()},1E4)},_uploadFile:function(){var b=a.plugin(h),c=b.staticAttr;c.uploadIsBusy?b.error("\u8bf7\u7a0d\u540e..."):(c.uploadIsBusy=!0,$("#articleUpload_iframe").length||$("body").append('<iframe id="articleUpload_iframe" name="articleUpload_iframe" width="0" height="0"></iframe>'),b._uploadForm("articleUpload_iframe"))},_uploadForm:function(b){var c=a.plugin(h),d=c.panel,e=c.staticAttr,f=c.settings,g=d.find("[name="+e.uploadFileBtn+"]"),d=d.find("form"),f=c.settings,
b={target:b,method:"POST",onsubmit:"return true"},j=null,j=null,l="enctype";if($.browser.msie&&($.browser.version<8||document.documentMode==7))l="encoding";if(g.hasClass(f.selectedClass)){j=f.getFileAction();if(!j)return e.uploadIsBusy=!1;d[0].setAttribute(l,"multipart/form-data")}else{j=f.getUrlAction();if(!j)return e.uploadIsBusy=!1;d[0].setAttribute(l,"application/x-www-form-urlencoded")}if(typeof j==="string")b.action=j;else if(typeof j==="object"&&(b.action=j.action,typeof j.postParms==="object")){var j=
j.postParms,m;for(m in j)d.append('<input type="hidden" name="'+m+'" value="'+j[m]+'">')}d.attr(b);c.error("\u56fe\u7247\u4e0a\u4f20\u4e2d....");d[0].submit()},insert:function(b,c){a.plugin(h).loadImage(b,c)},loadImage:function(b,c,d){var e=a.plugin(h),j=e.panel,i=e.staticAttr,p=new Image,l=b,m=j.find("[name="+i.imgSizeName+"]:checked").attr("imgsize"),l=b.replace(/_140|_s|_950/i,m);e.unlock();p.onload=function(){var b,h,m=parseInt(p.width),u=0;b=j.find("[name="+i.imgDiscription+"]").val();if(!b||
b.length<1)$("#art_title").length?b=$("#art_title").val():$("#_doc_title").length?b=$("#_doc_title").val():$("#title").length&&(b=$("#title").val());b=g.escape(b);u=m>e.config.max_width?e.config.max_width:m;h=j.find("[name="+i.imgAlignName+"]:checked").val();var s="",s="width:"+u+"px;";h=="left"?h="img_l":h=="right"?h="img_r":(h="img_c",s="width:"+u+"px;");s='<DIV class="img '+h+'" style="'+s+'">';c&&(s+='<A title="'+b+'" href="'+c+'" target=_blank>');s+='<IMG title="'+b+'" alt="'+b+'"';m>e.config.max_width&&
(s+=' width="'+u+'"');s+=' src="'+l+'"/>';c&&(s+="</A>");d&&(b+='<sup class="refer" name="'+d.name+'">'+d.num+"</sup>");s+="<STRONG>"+b+"</STRONG></DIV>";e.replaceimg?a.$(e.replaceimg).replaceWith(s):e.pasteHTML(s);e.hide();a.monitor(e.name);p.onload=function(){};i.uploadIsBusy=!1;f.IE&&setTimeout(function(){var b=a.$("img[src='"+l+"']").closest("div.img").prev("p");b.text()==""&&b.remove()},0);a.plugin("DragImage").reset()};p.onerror=function(){e.error("\u63d0\u793a\uff1a\u7531\u4e8e\u7f51\u7edc\u7b49\u539f\u56e0\u5bfc\u81f4\u56fe\u7247\u63d2\u5165\u5931\u8d25\uff01");
i.uploadIsBusy=!1};p.src=l},_checkFile:function(a){return a.val().length==0?!1:!/\.(jpg|jpeg|gif|png)$/i.test(a.val())?!1:!0},resizeImageDivWidth:function(){e()}})})(jQEditor);
(function(a){a.addFilter("default",{type:"html",replace:function(a){if(typeof a!=="string"||!a)return a;a=a.replace(/^\s+/g,"");a=a.replace(/\s+$/g,"");a=a.replace(/>\s+</g,"><");a=a.replace(/<td><\/td>/g,"<td>&nbsp;</td>");a=a.replace(/<\/sup>(\s|&nbsp;)*/ig,"</sup> ");a=a.replace(/(\s|&nbsp;)*<sup/ig,"<sup");a=a.replace(/<\/?textarea>/ig,"");a=a.replace(/<\!--[\s\S]*?--\>/gi,"");/http:\/\/www\.(hudong|baike)\.com\/editdocauth/i.test(location.href)&&(a=a.replace(/<\/?font[^>]*>/ig,""));a=a.replace(/<(div|strong|span|a)[^>]*?>\s*<\/\1>/ig,
"");a=a.replace(/<p><\/p>/ig,"");a=a.replace(/<(span|font)>([^<]+)<\/\1>/ig,"$2");a=a.replace(/<\??xml(:\w+)?(\s+[^>]*?)?>([\s\S]*?<\/xml>)?/ig,"");a=a.replace(/<\/?(html|head|body|meta|title|iframe|frame)(\s+[^>]*?)?>/ig,"");a=a.replace(/<link(\s+[^>]*?)?>/ig,"");a=a.replace(/<script(\s+[^>]*?)?>[\s\S]*?<\/script>/ig,"");a=a.replace(/(<\w+)(\s+[^>]*?)?\s+on(?:error|click|dblclick|mousedown|mouseup|mousemove|mouseover|mouseout|mouseenter|mouseleave|keydown|keypress|keyup|change|select|submit|reset|blur|focus|load|unload)\s*=\s*(["']?).*?\3((?:\s+[^>]*?)?\/?>)/ig,
"$1$2$4");a=a.replace(/<style(\s+[^>]*?)?>[\s\S]*?<\/style>/ig,"");a=a.replace(/<\/(strong|b|u|strike|em|i)>((?:\s|<br\/?>|&nbsp;)*?)<\1(\s+[^>]*?)?>/ig,"$2");a=a.replace(/class=\"Apple-style-span\"/ig,"");a=a.replace(/ jquery\d+=\"?\d+\"?/ig," ");a=a.replace(/<\!--\[if gte mso [0-9]{1,2}\]>[\s\S]*?<!\[endif\]--\>/ig,"");a=a.replace(/<style>[\s\S]*?mso[\s\S]*?<\/style>/ig,"");a=a.replace(/ lang=".+?"/ig,"");a=a.replace(/<o:p><\/o:p>/ig,"");a=a.replace(/ class="Mso.+?"/ig,"");return a=a.replace(/ mso-spacerun: 'yes'/ig,
"")}})})(jQEditor,jQuery);
(function(a){var e=a.consts;a.addFilter("xhtml",{type:"out-html",replace:function(a){if(typeof a!="string"||!a)return a;var h,a=a.replace(/<(br|hr)>/ig,"<$1 />"),a=a.replace(/<(img[^>]*)([^\/])>/ig,"<$1$2 />");if(!e.IE)return a;h=/(<\/?)([A-Z]+)>/g;a=a.replace(h,function(a,e,d){return e+d.toLowerCase()+">"});h=/<([A-Z]+)([^>]*)>/g;return a=a.replace(h,function(a,e,d){d=d.replace(/\s([A-Z]+)=/g,function(a,c){return" "+c.toLowerCase()+"="});d=d.replace(/\s+(\w+=)(\w[^\s]+)/g,function(a,c,d){return" "+
c+'"'+d+'"'});return"<"+e.toLowerCase()+d+">"})}})})(jQEditor,jQuery);
(function(a,e){var f=/^(area|p|blockquote|center|dir|div|form|ol|ul|pre|dl|table|h[123456r]|audio|canvas|section|video)$/i,h=a.addFilter("paragraph",{replace:function(h){if(typeof h!="object"||!h.body)return h;for(var g,d=a.$("body")[0].childNodes,b=[],c=[],k=0,o=d.length;k<o;k++)if(g=d[k],1===g.nodeType)f.test(g.nodeName)?c.length&&(b.push(c),c=[]):c.push(g);else if(3===g.nodeType){var n=e.trim(a.$(g).text());n&&(a.$(g).text(n),c.push(g))}c.length&&b.push(c);k=0;for(o=b.length;k<o;k++){g=h.createElement("p");
d=b[k];a.$(d[0]).before(g);c=0;for(n=d.length;c<n;c++)a.$(g).append(d[c])}}});a.Event.bind("oncomplete",function(a){h.replace(a.dom)})})(jQEditor,jQuery);
(function(a,e){var f=location.hostname.replace(/\./g,"\\."),h=RegExp("^http:\\/\\/"+f,"i"),j=typeof g_filterExternal==="undefined"?0:g_filterExternal;a.addFilter("hdwiki",{replace:function(f){if(typeof f!="object"||!f.body)return f;a.$("a").each(function(){var a=e(this),b=a.attr("href"),c=a.text();a.is(".innerlink,.baikelink")||/innerlink/i.test(b)?a.attr("href","index.php?doc-innerlink-"+encodeURI(c)):j&&b&&(b=b.toLowerCase(),b.indexOf("http:")===0&&!h.test(b)&&a.replaceWith(a.html()))})}})})(jQEditor,
jQuery);(function(a,e){var f=/^javascript:/i;a.addFilter("xss",{replace:function(a){if(typeof a!="object"||!a.body)return a;e("a",a).each(function(){var a=e(this),g=a.attr("href");g&&(g=g.replace(/\s/g,""),f.test(g)&&a.replaceWith(a.html()))});e("img",a).each(function(){var a=e(this),g=a.attr("src");g&&(g=g.replace(/\s/g,""),(f.test(g)||/^file:/i.test(g))&&a.remove())})}})})(jQEditor,jQuery);
(function(a,e){function f(){var d=a.config("tagAndDisablePlugin"),b=d["*"],c=[],f=j.getElement(),o=g.getRange(),n;for(n in f)if(d[n])if(e.isArray(d[n]))c=c.concat(d[n]);else{c="*";break}if("*"===c)for(var i in b)a.disablePlugin(b[i]);else{for(i in b)a.enablePlugin(b[i]);if(e.isArray(c)&&c.length)for(var p in c)a.disablePlugin(c[p])}i=g.getHtml();b=""+g.getText();f={};c=null;if(h.IE){if(i)/<t(d|h)/i.test(i)&&(f.table=1),/<h2/i.test(i)&&(f.h2=1),/<h3/i.test(i)&&(f.h3=1),/<img/i.test(i)&&(f.img=1),/<pre/i.test(i)&&
(f.pre=1)}else if(b){o=i.getRangeAt(0);o=o.cloneContents().childNodes;for(i=0;i<o.length;i++)n=o[i].nodeName.toLowerCase(),f[n]=1}f.talbe?c=d.selectedTable:b&&b.length>40&&(c=["BaikeLink","H1","H2"],a.showNotice("\u9009\u4e2d\u7684\u5b57\u7b26\u6570\u5927\u4e8e40\u65f6\u4f1a\u81ea\u52a8\u7981\u7528\u6807\u9898\u7b49\u529f\u80fd",2E3));if(e.isArray(c)&&c.length)for(p in c)a.disablePlugin(c[p])}var h=a.consts,j=a.mod("Event"),g=a.mod("Selection");j.bind("mouseup",function(a,b){f(b)});j.bind("keyup",
function(a,b){f(b)})})(jQEditor,jQuery);
(function(a,e){var f=a.consts,h=a.mod("Event");h.bind("keydown",function(f,g){var d=e(h.getTarget()),b=g.keyCode;if(d.is("sup.refer"))if(b==8||b==46)return d.remove(),!1;else(b<37||b>40)&&a.mod("Selection").cursorToNext(d[0]);else d.is("h2")||d.is("h3")});h.bind("keyup",function(){var j=e(h.getTarget());if(!f.IE){var g=j.children().last();if(!j.is("sup.refer")&&g.is("sup.refer")){if((j=g.text().match(/(\[\d+\])(.+)/))&&j.length===3)g.text(j[1]).after("<span> "+j[2]+"</span>"),a.mod("Selection").cursorToNext(g.next()[0])}else a.log("enterkey keyup lastTag:",
g[0])}})})(jQEditor,jQuery);
(function(a,e){if(typeof e.isEmptyObject!=="function")e.isEmptyObject=function(a){if(!a||typeof a!=="object")return!0;for(var d in a)return!1;return!0};var f=a.mod("Event"),h=a.config("ctrlKeys"),j=a.config("ctrlShiftKeys");e.isEmptyObject(h)&&e.isEmptyObject(j)?a.log("run","ctrlKeys && ctrlShiftKeys is empty"):(a.log("run","shortcutKey is binded"),f.bind("keydown",function(e,d){if(!d.ctrlKey)return!0;var b=null,c=d.keyCode||d.which||d.charCode;d.ctrlKey&&!d.altKey&&(b=d.shiftKey?j[c]:h[c]);if(b)return(c=
a.plugin(b))?(c.isEnabled()&&c.click(null,c),a.log("run","\u6267\u884c\u5feb\u6377\u952e\u547d\u4ee4"+b)):a.execCommand(b,null,null),!1;else(c<16||c>18)&&a.log("run","keyCode:"+c)}))})(jQEditor,jQuery);
(function(a,e){function f(){var d=a.$("body").children(),b=a.$("body").html(),b=e.trim(b);if(b==="")return a.$("body").html(g);else if(!d.size())return a.$("body").html("<p>"+b+"</p>");d.eq(0);d=d.eq(d.length-1);b="";d.is("p")&&(b=d.html(),(b=e.trim(b))&&">"==b.substr(b.length-1)&&!d.children().last().is("br")?a.$("body").append(g):b||d.append(h.IE?"&nbsp;":"<br/>"))}var h=a.consts,j=a.mod("Event"),g=h.IE?"<p>&nbsp;</p>":"<p><br></p>";j.bind("onmonitor",function(){f()});j.bind("oncomplete",function(){f()})})(jQEditor,
jQuery);
(function(a,e){function f(d){var b=d.attr("id");a.$("#wrap-"+b).hide();setTimeout(function(){var c=a.$("#"+b),d=a.$("#wrap-"+b);c.parent().is("a")?(c.parent().after(d),d.prepend(c.parent())):(c.after(d),d.prepend(c));d.show();j.IE&&a.monitor("dragImage")},0)}function h(){a.$("img").each(function(a,b){var c=e(b);c.attr("id","img-"+a);c.closest("div.img").attr("id","wrap-img-"+a)})}var j=a.consts;a.mod("Selection");var g=a.mod("Event");a.plugin("DragImage",{mousedown:!1,reset:function(){h()}});e.browser.webkit&&
g.bind("dragend",function(){var d=g.getElement();d.img&&(f(a.$(d.img)),a.log("run","\u56fe\u7247\u62d6\u62fd\u7ed3\u675f\uff08\u9488\u5bf9dom\u7ed1\u5b9a\u7684\u4e8b\u4ef6\uff09"))});g.bind("mousedown",function(d,b){var c=e(b.target);c.is("img")&&(a.log("run","\u7ed9\u56fe\u7247\u7ed1\u5b9a\u62d6\u62fd\u4e8b\u4ef6"),c.unbind("dragend").bind("dragend",function(){f(c);a.log("run","\u56fe\u7247\u62d6\u62fd\u7ed3\u675f\uff08\u9488\u5bf9\u56fe\u7247\u7ed1\u5b9a\u7684\u4e8b\u4ef6\uff09");return!1}))});
g.bind("oncomplete",function(){h()})})(jQEditor,jQuery);
(function(a,e){var f=a.mod("Panel"),h=null;a.plugin("Dialog",{title:"\u63d0\u793a",config:{width:350,position:"center",overlay:!0},show:function(a,g,d){var b=e(window).width(),d=typeof d==="number"?d:350;d<200&&(d=200);d>b&&(d=b);if(a)h.title=a;h.config.width=d;h.cache.html=g;f.set(h)},showError:function(a){h.show("\u63d0\u793a",'<table width="100%"><tr><td valign="center" align="center" style="height:150px;line-height:150%;color:red;">'+a+"</td></tr></table>")},showNotice:function(a){h.show("\u63d0\u793a",
'<table width="100%"><tr><td valign="center" align="center" style="height:180px;line-height:150%;color:#666666;">'+a+"</td></tr></table>")}});h=a.plugin("Dialog")})(jQEditor,jQuery);(function(a){var e={};a.mod("Event").bind("onafteraction",function(f){f=f.Plugin.name;e[f]?e[f]+=1:e[f]=1;a.log("run",f+"\u88ab\u70b9\u51fb\u4e86"+e[f]+"\u6b21")});a.plugin("ClickCount",{get:function(){return ClickCount}})})(jQEditor,jQuery);
(function(a,e){function f(f){a.get("document");var d=h.getElement(),b="",c="";/^(circle|disc|square)$/i.test(f)?(c="ul",b="InsertUnorderedList"):(c="ol",b="InsertOrderedList");d[c]||a.execCommand(b);a.$("ol,ul").each(function(a,b){var c=e(b),h=c.css("list-style-type");(!c.attr("style")||b===d.ol||b===d.ul)&&h!==f&&c.css("list-style-type",f)})}var h=a.mod("Event"),j=a.mod("Menu");a.plugin("InsertOrderedList",{menuType:"Menu",menuTitle:"\u66f4\u591a\u5217\u8868\u6837\u5f0f",menu:function(a,d){j.set(d.event,
d.name);return 1}});a.plugin("InsertUnorderedList",{menuType:"Menu",menuTitle:"\u66f4\u591a\u5217\u8868\u6837\u5f0f",menu:function(a,d){j.set(d.event,d.name);return 1}});j.add("InsertOrderedList",{title:"\u66f4\u591a\u5217\u8868\u6837\u5f0f\u4e0b\u62c9\u83dc\u5355",check:function(){return!0},getHtml:function(){return{List_123:1,List_a_b:1,List_A_B:1,List_i_ii:1,List_I_II:1}}});j.add("InsertUnorderedList",{title:"\u66f4\u591a\u5217\u8868\u6837\u5f0f\u4e0b\u62c9\u83dc\u5355",check:function(){return!0},
getHtml:function(){return{List_circle:1,List_disc:1,List_square:1}}});a.plugin("List_123",{click:function(){f("decimal");return!0}});a.plugin("List_a_b",{click:function(){f("lower-alpha");return!0}});a.plugin("List_A_B",{click:function(){f("upper-alpha");return!0}});a.plugin("List_i_ii",{click:function(){f("lower-roman");return!0}});a.plugin("List_I_II",{click:function(){f("upper-roman");return!0}});a.plugin("List_circle",{click:function(){f("circle");return!0}});a.plugin("List_disc",{click:function(){f("disc");
return!0}});a.plugin("List_square",{click:function(){f("square");return!0}})})(jQEditor,jQuery);(function(a){var e=a.consts.IE?"<p>&nbsp;</p>":"<p><br></p>";a.plugin("ClearDoc",{click:function(){confirm("\u786e\u5b9a\u6e05\u7a7a\u6240\u6709\u5185\u5bb9\u5417\uff1f")&&(a.setHTML(e),a.focus(),a.hidePanel())}})})(jQEditor,jQuery);
(function(a){function e(a){if(typeof a!=="string"||!a)a="Y-m-d";var e=new Date,d,b;d=e.getFullYear();b=e.getMonth()+1;e=e.getDate();return a.replace("Date_","").replace("Y",d).replace("m",b).replace("d",e)}function f(){var a=new Date;return a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}var h=a.mod("Menu");a.plugin("InsertDate",{menuTitle:"\u66f4\u591a\u65e5\u671f\u683c\u5f0f",click:function(){this.pasteHTML("2011-08-20")},menu:function(a,e){h.set(e.event,e.name);return 1}});a.plugin("InsertTime",
{click:function(){this.pasteHTML(f())}});h.add("InsertDate",{title:"\u66f4\u591a\u65e5\u671f\u683c\u5f0f",check:function(){return!0},getHtml:function(){return{"Date_Y-m-d":1,"Date_Y/m/d":1,"Date_Y.m.d":1,"Date_Y\u5e74m\u6708d\u65e5":1}}});a.plugin("Date_Y-m-d",{click:function(a,f){this.pasteHTML(e(f.name));return!0}});a.plugin("Date_Y/m/d",{click:function(a,f){this.pasteHTML(e(f.name));return!0}});a.plugin("Date_Y.m.d",{click:function(a,f){this.pasteHTML(e(f.name));return!0}});a.plugin("Date_Y\u5e74m\u6708d\u65e5",
{click:function(a,f){this.pasteHTML(e(f.name));return!0}})})(jQEditor);
(function(a){var e;a.plugin("BaiduMap",{language:"zh-cn",config:{width:600,height:360,position:"center",overlay:!0},init:function(a){a.cache.html='<div id="BaiduMap" class="jqe-plugin-biadumap" style="margin:5px 0"></div>'},iframeLoad:function(a){e=a.win},one:function(e){e.find(".jqe-plugin-biadumap").html('<iframe frameborder="0" name="iframe_BaiduMap" tabindex="0" style="width: 100%; height: 360px; margin:0px; " scrolling="no" src="'+a.config("jqePath")+'/plugin_html/BaiduMap.html"></iframe>')},
get:function(f,h){var j=e.Main,g=j.ak,d=j.center,d=j.center,b=j.width,c=j.address,j="http://api.map.baidu.com/staticimage/v2?ak="+g+"&mcode=666666&center="+d+"&width="+b+"&height="+j.height+"&zoom="+j.zoom,k='<div class="img img_c" style="width:'+b+'px"><img class="baidumap" src="'+j+'" alt="'+c+'"><strong>'+c+"</strong></div>";img=new Image;img.src=j;img.onload=function(){h.pasteHTML(k);h.hide()};img.onerror=function(){a.showError("\u5730\u56fe\u52a0\u8f7d\u5931\u8d25");h.hide()}}})})(jQEditor);
(function(a){var e=a.mod("Menu");a.plugin("JustifyLeft",{menuType:"Menu",menuTitle:"\u5bf9\u9f50\u65b9\u5f0f",menu:function(a,h){e.set(h.event,h.name);return 1}});e.add("JustifyLeft",{title:"\u5bf9\u9f50\u65b9\u5f0f\u4e0b\u62c9\u83dc\u5355",check:function(){return!0},getHtml:function(){return{JustifyLeft:1,JustifyCenter:1,JustifyRight:1}}})})(jQEditor,jQuery);
